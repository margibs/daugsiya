function EZSlots(t,e){var n=this,i=e?e:{};return this.reelCount=i.reelCount?i.reelCount:3,this.symbols=i.symbols?i.symbols:["A","B","C"],this.sameSymbolsEachSlot=!0,this.winningSet=i.winningSet,this.width=i.width?i.width:100,this.height=i.width?i.height:100,this.howManySymbolsToAppend=20,this.endingLocation=7,this.time=2500,this.jqo=$("#"+t),this.jqoSliders=[],this.init=function(){this.jqo.addClass("ezslots"),"string"!=typeof this.symbols[0]&&(this.sameSymbolsEachSlot=!1);for(var t=0;t<this.reelCount;t++){var e=$('<div class="slider"></div>'),n=$('<div class="window window_"'+t+"></div>");this.scaleJqo(n).append(e),this.jqo.append(n),this.jqoSliders.push(e),this.addSymbolsToStrip(e,t)}},this.scaleJqo=function(t){return t.css("height",this.height+"px").css("width",this.width+"px"),t},this.addSymbolsToStrip=function(t,e,i){for(var o=n.sameSymbolsEachSlot?n.symbols:n.symbols[e],r=i?n.winningSet[e]:Math.floor(Math.random()*o.length),s=0;s<n.howManySymbolsToAppend;s++){var a=s==n.endingLocation?r:Math.floor(Math.random()*o.length),c=$("<div class='content'>"+o[a]+"</div>");n.scaleJqo(c);var l=$("<div class='symbol'></div>");n.scaleJqo(l),l.append(c),t.append(l)}return r},this.spinOne=function(t,e,i){var o=parseInt(t.css("height"),10),r=n.addSymbolsToStrip(t,e,i),s=-(o+n.endingLocation*n.height);return t.stop(!0,!0).animate({"margin-top":s+"px"},{duration:n.time+Math.round(1e3*Math.random()),easing:"easeOutElastic"}),r},this.spinAll=function(t){for(var e=[],i=0;i<n.reelCount;i++)e.push(n.spinOne(n.jqoSliders[i],i,t));return e},this.init(),{spin:function(){return n.spinAll()},win:function(){return n.spinAll(!0)}}}!function(t){t.fn.unveil=function(e,n){function i(){var e=l.filter(function(){var e=t(this);if(!e.is(":hidden")){var n=r.scrollTop(),i=n+r.height(),o=e.offset().top,a=o+e.height();return a>=n-s&&i+s>=o}});o=e.trigger("unveil"),l=l.not(o)}var o,r=t(window),s=e||0,a=window.devicePixelRatio>1,c=a?"data-src-retina":"data-src",l=this;return this.one("unveil",function(){var t=this.getAttribute(c);t=t||this.getAttribute("data-src"),t&&(this.setAttribute("src",t),"function"==typeof n&&n.call(this))}),r.on("scroll.unveil resize.unveil lookup.unveil",i),i(),this}}(window.jQuery||window.Zepto),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(-Math.pow(2,-10*e/o)+1)+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s))+n},easeOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*o-r)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(s||(s=o*(.3*1.5)),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return 1>e?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s))+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*(e/=o)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*((e=e/o-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),(e/=o/2)<1?i/2*(e*e*(((r*=1.525)+1)*e-r))+n:i/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?i*(7.5625*e*e)+n:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return o/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),function(t){t.fn.extend({leanModal:function(e){function n(e){t("#lean_overlay").fadeOut(200),t(e).css({display:"none"})}var i={top:100,overlay:.5,closeButton:null},o=t("<div id='lean_overlay'></div>");return t("body").append(o),e=t.extend(i,e),this.each(function(){var i=e;t(this).click(function(e){var o=t(this).attr("href");t("#lean_overlay").click(function(){n(o)}),t(i.closeButton).click(function(){n(o)});var r=(t(o).outerHeight(),t(o).outerWidth());t("#lean_overlay").css({display:"block",opacity:0}),t("#lean_overlay").fadeTo(200,i.overlay),t(o).css({display:"block",position:"fixed",opacity:0,"z-index":11e3,left:"50%","margin-left":-(r/2)+"px",top:i.top+"px"}),t(o).fadeTo(200,1),e.preventDefault()})})}})}(jQuery),function(t,e){function n(t){var e={top:i.scrollTop(),left:i.scrollLeft()};e.right=e.left+i.width(),e.bottom=e.top+i.height();var n=t[0].getBoundingClientRect();return n.right=n.left+t.outerWidth(),n.bottom=n.top+t.outerHeight(),!(e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)&&t.is(":visible")}var i=t(e);t.LazyImage=function(e){this.$img=t(e),this.loading=!1,this.originalSrc=this.$img.data("src"),this.fadeIn=this.$img.data("fade-in"),this.init()},t.LazyImage.prototype={init:function(){var e=this,n=this.fadeIn;e.$fakeImg=t("<img />").on("load",function(){e.$img.removeAttr("style").css("opacity",0).attr("src",t(this).attr("src")),n?e.$img.animate({opacity:1}):e.$img.css({opacity:1}),e.$img.addClass("lazy-loaded")}).on("load error",function(t){e.loading=!1,e.$img.trigger("lazyLoaded",[e,t.type])})},loadImage:function(){this.$fakeImg.attr("src",this.originalSrc)},destroy:function(){t(this).data("plugin_lazyImage",void 0)}},t.fn.lazyImage=function(){function e(){t.each(o,function(){n(this.$img)&&!this.loading&&(this.loading=!0,this.loadImage())}),o.length<=0&&i.off("load scroll resize",e)}var o=this.filter("img").map(function(){var e=new t.LazyImage(this);return t(this).data("plugin_lazyImage",e),e});return t(this).on("lazyLoaded",function(t,e){o=o.filter(function(){return this.originalSrc!=e.originalSrc})}),i.on("load scroll resize",e),this}}(jQuery,window),function(t,n,i,o){function r(e,n){this.element=e,this.options=t.extend(!0,{},c,n),this.options.share=n.share,this._defaults=c,this._name=a,this.init()}var a="sharrre",c={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1},shareTotal:0,template:"",title:"",url:i.location.href,text:i.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},l={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://opensharecount.com/count.json?url={url}",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"},p={googlePlus:function(e){var o=e.options.buttons.googlePlus;t(e.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+o.size+'" data-href="'+(""!==o.url?o.url:e.options.url)+'" data-annotation="'+o.annotation+'"></div></div>'),n.___gcfg={lang:e.options.buttons.googlePlus.lang};var r=0;"undefined"==typeof gapi&&0==r?(r=1,function(){var t=i.createElement("script");t.type="text/javascript",t.async=!0,t.src="//apis.google.com/js/plusone.js";var e=i.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):gapi.plusone.go()},facebook:function(e){var n=e.options.buttons.facebook;t(e.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(""!==n.url?n.url:e.options.url)+'" data-send="'+n.send+'" data-layout="'+n.layout+'" data-width="'+n.width+'" data-show-faces="'+n.faces+'" data-action="'+n.action+'" data-colorscheme="'+n.colorscheme+'" data-font="'+n.font+'" data-via="'+n.via+'"></div></div>');var o=0;"undefined"==typeof FB&&0==o?(o=1,function(t,e,i){var o,r=t.getElementsByTagName(e)[0];t.getElementById(i)||(o=t.createElement(e),o.id=i,o.src="//connect.facebook.net/"+n.lang+"/all.js#xfbml=1",r.parentNode.insertBefore(o,r))}(i,"script","facebook-jssdk")):FB.XFBML.parse()},twitter:function(e){var n=e.options.buttons.twitter;t(e.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==n.url?n.url:e.options.url)+'" data-count="'+n.count+'" data-text="'+e.options.text+'" data-via="'+n.via+'" data-hashtags="'+n.hashtags+'" data-related="'+n.related+'" data-lang="'+n.lang+'">Tweet</a></div>');var o=0;"undefined"==typeof twttr&&0==o?(o=1,function(){var t=i.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.twitter.com/widgets.js";var e=i.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):t.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(e){var n=e.options.buttons.digg;t(e.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+n.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==n.url?n.url:e.options.url)+'"></a></div>');var o=0;"undefined"==typeof __DBW&&0==o&&(o=1,function(){var t=i.createElement("SCRIPT"),e=i.getElementsByTagName("SCRIPT")[0];t.type="text/javascript",t.async=!0,t.src="//widgets.digg.com/buttons.js",e.parentNode.insertBefore(t,e)}())},delicious:function(e){if("tall"==e.options.buttons.delicious.size)var n="width:50px;",i="height:35px;width:50px;font-size:15px;line-height:35px;",o="height:18px;line-height:18px;margin-top:3px;";else var n="width:93px;",i="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",o="float:left;height:20px;line-height:20px;";var r=e.shorterTotal(e.options.count.delicious);"undefined"==typeof r&&(r=0),t(e.element).find(".buttons").append('<div class="button delicious"><div style="'+n+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+i+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+r+'</div><div style="'+o+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>'),t(e.element).find(".delicious").on("click",function(){e.openPopup("delicious")})},stumbleupon:function(e){var o=e.options.buttons.stumbleupon;t(e.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+o.layout+'" location="'+(""!==o.url?o.url:e.options.url)+'"></su:badge></div>');var r=0;"undefined"==typeof STMBLPN&&0==r?(r=1,function(){var t=i.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.stumbleupon.com/1/widgets.js";var e=i.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),s=n.setTimeout(function(){"undefined"!=typeof STMBLPN&&(STMBLPN.processWidgets(),clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(e){var o=e.options.buttons.linkedin;t(e.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(""!==o.url?o.url:e.options.url)+'" data-counter="'+o.counter+'"></script></div>');var r=0;"undefined"==typeof n.IN&&0==r?(r=1,function(){var t=i.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.linkedin.com/in.js";var e=i.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):n.IN.init()},pinterest:function(e){var n=e.options.buttons.pinterest;t(e.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(""!==n.url?n.url:e.options.url)+"&media="+n.media+"&description="+n.description+'" class="pin-it-button" count-layout="'+n.layout+'">Pin It</a></div>'),function(){var t=i.createElement("script");t.type="text/javascript",t.async=!0,t.src="//assets.pinterest.com/js/pinit.js";var e=i.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}},d={googlePlus:function(){},facebook:function(){fb=n.setInterval(function(){"undefined"!=typeof FB&&(FB.Event.subscribe("edge.create",function(t){_gaq.push(["_trackSocial","facebook","like",t])}),FB.Event.subscribe("edge.remove",function(t){_gaq.push(["_trackSocial","facebook","unlike",t])}),FB.Event.subscribe("message.send",function(t){_gaq.push(["_trackSocial","facebook","send",t])}),clearInterval(fb))},1e3)},twitter:function(){tw=n.setInterval(function(){"undefined"!=typeof twttr&&(twttr.events.bind("tweet",function(t){t&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1e3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){}},u={googlePlus:function(t){n.open("https://plus.google.com/share?hl="+t.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==t.buttons.googlePlus.url?t.buttons.googlePlus.url:t.url),"","toolbar=0, status=0, width=900, height=500")},facebook:function(t){n.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==t.buttons.facebook.url?t.buttons.facebook.url:t.url)+"&t="+t.text,"","toolbar=0, status=0, width=900, height=500")},twitter:function(t){n.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t.text)+"&url="+encodeURIComponent(""!==t.buttons.twitter.url?t.buttons.twitter.url:t.url)+(""!==t.buttons.twitter.via?"&via="+t.buttons.twitter.via:""),"","toolbar=0, status=0, width=650, height=360")},digg:function(t){n.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==t.buttons.digg.url?t.buttons.digg.url:t.url)+"&title="+t.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(t){n.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==t.buttons.delicious.url?t.buttons.delicious.url:t.url)+"&title="+t.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(t){n.open("http://www.stumbleupon.com/badge/?url="+encodeURIComponent(""!==t.buttons.stumbleupon.url?t.buttons.stumbleupon.url:t.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(t){n.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==t.buttons.linkedin.url?t.buttons.linkedin.url:t.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(t){n.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==t.buttons.pinterest.url?t.buttons.pinterest.url:t.url)+"&media="+encodeURIComponent(t.buttons.pinterest.media)+"&description="+t.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};r.prototype.init=function(){var e=this;""!==this.options.urlCurl&&(l.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",l.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon"),t(this.element).addClass(this.options.className),"undefined"!=typeof t(this.element).data("title")&&(this.options.title=t(this.element).attr("data-title")),"undefined"!=typeof t(this.element).data("url")&&(this.options.url=t(this.element).data("url")),"undefined"!=typeof t(this.element).data("text")&&(this.options.text=t(this.element).data("text")),t.each(this.options.share,function(t,n){n===!0&&e.options.shareTotal++}),e.options.enableCounter===!0?t.each(this.options.share,function(t,n){if(n===!0)try{e.getSocialJson(t)}catch(i){}}):""!==e.options.template?this.options.render(this,this.options):this.loadButtons(),t(this.element).hover(function(){0===t(this).find(".buttons").length&&e.options.enableHover===!0&&e.loadButtons(),e.options.hover(e,e.options)},function(){e.options.hide(e,e.options)}),t(this.element).click(function(){return e.options.click(e,e.options),!1})},r.prototype.loadButtons=function(){var e=this;t(this.element).append('<div class="buttons"></div>'),t.each(e.options.share,function(t,n){1==n&&(p[t](e),e.options.enableTracking===!0&&d[t]())})},r.prototype.getSocialJson=function(e){var n=this,i=0,o=l[e].replace("{url}",encodeURIComponent(this.options.url));this.options.buttons[e].urlCount===!0&&""!==this.options.buttons[e].url&&(o=l[e].replace("{url}",this.options.buttons[e].url)),""!=o&&""!==n.options.urlCurl?t.getJSON(o,function(t){if("undefined"!=typeof t.count){var o=t.count+"";o=o.replace("Â ",""),i+=parseInt(o,10)}else t.data&&t.data.length>0&&"undefined"!=typeof t.data[0].total_count?i+=parseInt(t.data[0].total_count,10):"undefined"!=typeof t[0]?i+=parseInt(t[0].total_posts,10):"undefined"!=typeof t[0];n.options.count[e]=i,n.options.total+=i,n.renderer(),n.rendererPerso()}).error(function(){n.options.count[e]=0,n.rendererPerso()}):(n.renderer(),n.options.count[e]=0,n.rendererPerso())},r.prototype.rendererPerso=function(){var t=0;for(e in this.options.count)t++;t===this.options.shareTotal&&this.options.render(this,this.options)},r.prototype.renderer=function(){var e=1452,n=parseInt(this.options.total)+e;template=this.options.template,this.options.shorterTotal===!0&&(n=this.shorterTotal(n)),""!==template?(template=template.replace("{total}",n),t(this.element).html(template)):t(this.element).html('<div class="box"><a class="count" href="#">'+n+"</a>"+(""!==this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")},r.prototype.shorterTotal=function(t){return t>=1e6?t=(t/1e6).toFixed(2)+"M":t>=1e3&&(t=(t/1e3).toFixed(1)+"k"),t},r.prototype.openPopup=function(t){if(u[t](this.options),this.options.enableTracking===!0){var e={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};_gaq.push(["_trackSocial",e[t].site,e[t].action])}},r.prototype.simulateClick=function(){var e=t(this.element).html();t(this.element).html(e.replace(this.options.total,this.options.total+1))},r.prototype.update=function(t,e){""!==t&&(this.options.url=t),""!==e&&(this.options.text=e)},t.fn[a]=function(e){var n=arguments;return e===o||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new r(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var i=t.data(this,"plugin_"+a);i instanceof r&&"function"==typeof i[e]&&i[e].apply(i,Array.prototype.slice.call(n,1))}):void 0}}(jQuery,window,document),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function o(t){if(l){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(y.parent())&&r(n,!0),t.preventDefault&&!v&&t.preventDefault(),v||(t.returnValue=!1)}}function r(t,e,n){v=!1;var o=t,r=y.outerHeight()-x.outerHeight();e&&(o=parseInt(x.css("top"))+t*parseInt(i.wheelStep)/100*x.outerHeight(),o=Math.min(Math.max(o,0),r),o=t>0?Math.ceil(o):Math.floor(o),x.css({top:o+"px"})),g=parseInt(x.css("top"))/(y.outerHeight()-x.outerHeight()),o=g*(y[0].scrollHeight-y.outerHeight()),n&&(o=t,t=o/y[0].scrollHeight*y.outerHeight(),t=Math.min(Math.max(t,0),r),x.css({top:t+"px"})),y.scrollTop(o),y.trigger("slimscrolling",~~o),a(),c()}function s(){f=Math.max(y.outerHeight()/y[0].scrollHeight*y.outerHeight(),30),x.css({height:f+"px"});var t=f==y.outerHeight()?"none":"block";x.css({display:t})}function a(){s(),clearTimeout(u),g==~~g?(v=i.allowPageScroll,m!=g&&y.trigger("slimscroll",0==~~g?"top":"bottom")):v=!1,m=g,f>=y.outerHeight()?v=!0:(x.stop(!0,!0).fadeIn("fast"),i.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function c(){i.alwaysVisible||(u=setTimeout(function(){i.disableFadeOut&&l||p||d||(x.fadeOut("slow"),w.fadeOut("slow"))},1e3))}var l,p,d,u,h,f,g,m,v=!1,y=e(this);if(y.parent().hasClass(i.wrapperClass)){var b=y.scrollTop(),x=y.siblings("."+i.barClass),w=y.siblings("."+i.railClass);if(s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){y.parent().css("height","auto"),y.css("height","auto");var S=y.parent().parent().height();y.parent().css("height",S),y.css("height",S)}else"height"in n&&(S=n.height,y.parent().css("height",S),y.css("height",S));if("scrollTo"in n)b=parseInt(i.scrollTo);else if("scrollBy"in n)b+=parseInt(i.scrollBy);else if("destroy"in n)return x.remove(),w.remove(),void y.unwrap();r(b,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?y.parent().height():i.height,b=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),y.css({overflow:"hidden",width:i.width,height:i.height});var w=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),x=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),S="right"==i.position?{right:i.distance}:{left:i.distance};w.css(S),x.css(S),y.wrap(b),y.parent().append(x),y.parent().append(w),i.railDraggable&&x.bind("mousedown",function(n){var i=e(document);return d=!0,t=parseFloat(x.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),r(0,x.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){d=!1,c(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),w.hover(function(){a()},function(){c()}),x.hover(function(){p=!0},function(){p=!1}),y.hover(function(){l=!0,a(),c()},function(){l=!1,c()}),y.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(h=t.originalEvent.touches[0].pageY)}),y.bind("touchmove",function(t){v||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(r((h-t.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),h=t.originalEvent.touches[0].pageY)}),s(),"bottom"===i.start?(x.css({top:y.outerHeight()-x.outerHeight()}),r(0,!0)):"top"!==i.start&&(r(e(i.start).position().top,null,!0),i.alwaysVisible||x.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",o,!1),this.addEventListener("mousewheel",o,!1)):document.attachEvent("onmousewheel",o)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(t){function e(){}function n(t){if(!t||"object"!=typeof t)return!1;var e=w(t)||at;return/object|function/.test(typeof e.Element)?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}function i(t){return t===at||!(!t||!t.Window)&&t instanceof t.Window}function o(t){return r(t)&&void 0!==typeof t.length&&s(t.splice)}function r(t){return!!t&&"object"==typeof t}function s(t){return"function"==typeof t}function a(t){return"number"==typeof t}function c(t){return"boolean"==typeof t}function l(t){return"string"==typeof t}function p(t){return l(t)?(ct.querySelector(t),!0):!1}function d(t,e){for(var n in e)t[n]=e[n];return t}function u(t,e){for(var n in e){var i,o=!1;for(i in Ut)if(0===n.indexOf(i)&&Ut[i].test(n)){o=!0;break}o||(t[n]=e[n])}return t}function h(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function f(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=(new Date).getTime()-e.timeStamp,e=Math.max(t.timeStamp/1e3,.001),t.page.speed=gt(t.page.x,t.page.y)/e,t.page.vx=t.page.x/e,t.page.vy=t.page.y/e,t.client.speed=gt(t.client.x,t.page.y)/e,t.client.vx=t.client.x/e,t.client.vy=t.client.y/e}function g(t){return t instanceof at.Event||Ct&&at.Touch&&t instanceof at.Touch}function m(t,e,n){return n=n||{},t=t||"page",n.x=e[t+"X"],n.y=e[t+"Y"],n}function v(t,e){return e=e||{},It&&g(t)?(m("screen",t,e),e.x+=at.scrollX,e.y+=at.scrollY):m("page",t,e),e}function y(t,e){return e=e||{},It&&g(t)?m("screen",t,e):m("client",t,e),e}function b(t){return a(t.pointerId)?t.pointerId:t.identifier}function x(t){return t instanceof ut?t.correspondingUseElement:t}function w(t){return i(t)?t:(t=t.ownerDocument||t,t.defaultView||t.parentWindow||at)}function S(t){return(t=t instanceof pt?t.getBoundingClientRect():t.getClientRects()[0])&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function k(t){var e,n=S(t);return!Rt&&n&&(e=(e=w(t))||at,t=e.scrollX||e.document.documentElement.scrollLeft,e=e.scrollY||e.document.documentElement.scrollTop,n.left+=t,n.right+=t,n.top+=e,n.bottom+=e),n}function C(t){var e=[];return o(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function _(t){for(var e,n={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},i=0;i<t.length;i++)for(e in n)n[e]+=t[i][e];for(e in n)n[e]/=t.length;return n}function E(t){if(t.length||t.touches&&1<t.touches.length){t=C(t);var e=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY);return{x:e,y:n,left:e,top:n,width:Math.max(t[0].pageX,t[1].pageX)-e,height:Math.max(t[0].pageY,t[1].pageY)-n}}}function $(t,e){e=e||St.deltaSource;var n=e+"X",i=e+"Y",o=C(t);return gt(o[0][n]-o[1][n],o[0][i]-o[1][i])}function T(t,e,n){n=n||St.deltaSource;var i=n+"X";return n+="Y",t=C(t),i=180*Math.atan((t[0][n]-t[1][n])/(t[0][i]-t[1][i]))/Math.PI,a(e)&&(e=(i-e)%360,e>315?i-=360+i/360|0:e>135?i-=180+i/360|0:-315>e?i+=360+i/360|0:-135>e&&(i+=180+i/360|0)),i}function P(t,e){var i=t?t.options.origin:St.origin;return"parent"===i?i=B(e):"self"===i?i=t.getRect(e):p(i)&&(i=M(e,i)||{x:0,y:0}),s(i)&&(i=i(t&&e)),n(i)&&(i=k(i)),i.x="x"in i?i.x:i.left,i.y="y"in i?i.y:i.top,i}function A(t,e,n,i){var o=1-t;return o*o*e+2*o*t*n+t*t*i}function z(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function M(t,e){for(var i=B(t);n(i);){if(it(i,e))return i;i=B(i)}return null}function B(t){if((t=t.parentNode)&&t instanceof lt)for(;(t=t.host)&&t&&t instanceof lt;);return t}function D(t,e){return t._context===e.ownerDocument||z(t._context,e)}function I(t,e,i){return(t=t.options.ignoreFrom)&&n(i)?l(t)?ot(i,t,e):n(t)?z(t,i):!1:!1}function R(t,e,i){return(t=t.options.allowFrom)?n(i)?l(t)?ot(i,t,e):n(t)?z(t,i):!1:!1:!0}function O(t,e){if(!e)return!1;var n=e.options.drag.axis;return"xy"===t||"xy"===n||n===t}function N(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].snap&&n[e].snap.enabled}function j(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].restrict&&n[e].restrict.enabled}function q(t,e,n){for(var i=t.options,o=i[n.name].max,i=i[n.name].maxPerElement,r=0,s=0,a=0,c=0,l=bt.length;l>c;c++){var p=bt[c],d=p.prepared.name;if(p.interacting()&&(r++,r>=Pt||p.target===t&&(s+=d===n.name|0,s>=o||p.element===e&&(a++,d!==n.name||a>=i))))return!1}return Pt>0}function U(){if(this.prevDropElement=this.prevDropTarget=this.dropElement=this.dropTarget=this.element=this.target=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},s(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var t=this;this.boundInertiaFrame=function(){return t.inertiaFrame()},this.boundSmoothEndFrame=function(){return t.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this.prevEvent=this._curEventTarget=this._eventTarget=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,
restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.resizing=this.dragging=this.gesturing=this.pointerWasMoved=this.pointerIsDown=!1,this.resizeAxes="xy",this.mouse=!1,bt.push(this)}function L(t,e,n){var i,o=0,r=bt.length,s=/mouse/i.test(t.pointerType||e)||4===t.pointerType;if(t=b(t),/down|start/i.test(e))for(o=0;r>o;o++){i=bt[o];var a=n;if(i.inertiaStatus.active&&i.target.options[i.prepared.name].inertia.allowResume&&i.mouse===s)for(;a;){if(a===i.element)return i;a=B(a)}}if(s||!Ct&&!_t){for(o=0;r>o;o++)if(bt[o].mouse&&!bt[o].inertiaStatus.active)return bt[o];for(o=0;r>o;o++)if(bt[o].mouse&&(!/down/.test(e)||!bt[o].inertiaStatus.active))return i;return i=new U,i.mouse=!0,i}for(o=0;r>o;o++)if(-1!==nt(bt[o].pointerIds,t))return bt[o];if(/up|end|out/i.test(e))return null;for(o=0;r>o;o++)if(i=bt[o],!(i.prepared.name&&!i.target.options.gesture.enabled||i.interacting()||!s&&i.mouse))return i;return new U}function F(t){return function(e){var n,i,o=x(e.path?e.path[0]:e.target),r=x(e.currentTarget);if(Ct&&/touch/.test(e.type))for(Tt=(new Date).getTime(),i=0;i<e.changedTouches.length;i++){var s=e.changedTouches[i];(n=L(s,e.type,o))&&(n._updateEventTargets(o,r),n[t](s,e,o,r))}else{if(!_t&&/mouse/.test(e.type)){for(i=0;i<bt.length;i++)if(!bt[i].mouse&&bt[i].pointerIsDown)return;if(500>(new Date).getTime()-Tt)return}(n=L(e,e.type,o))&&(n._updateEventTargets(o,r),n[t](e,e,o,r))}}}function X(t,e,n,i,o,r){var s,a,c=t.target,l=t.snapStatus,p=t.restrictStatus,u=t.pointers,h=(c&&c.options||St).deltaSource,f=h+"X",g=h+"Y",m=c?c.options:St,v=P(c,o),y="start"===i,b="end"===i;s=y?t.startCoords:t.curCoords,o=o||t.element,a=d({},s.page),s=d({},s.client),a.x-=v.x,a.y-=v.y,s.x-=v.x,s.y-=v.y;var x=m[n].snap&&m[n].snap.relativePoints;!N(c,n)||y&&x&&x.length||(this.snap={range:l.range,locked:l.locked,x:l.snappedX,y:l.snappedY,realX:l.realX,realY:l.realY,dx:l.dx,dy:l.dy},l.locked&&(a.x+=l.dx,a.y+=l.dy,s.x+=l.dx,s.y+=l.dy)),!j(c,n)||y&&m[n].restrict.elementRect||!p.restricted||(a.x+=p.dx,a.y+=p.dy,s.x+=p.dx,s.y+=p.dy,this.restrict={dx:p.dx,dy:p.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=s.x,this.clientY=s.y,this.x0=t.startCoords.page.x-v.x,this.y0=t.startCoords.page.y-v.y,this.clientX0=t.startCoords.client.x-v.x,this.clientY0=t.startCoords.client.y-v.y,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.buttons=e.buttons,this.target=o,this.t0=t.downTimes[0],this.type=n+(i||""),this.interaction=t,this.interactable=c,o=t.inertiaStatus,o.active&&(this.detail="inertia"),r&&(this.relatedTarget=r),b?"client"===h?(this.dx=s.x-t.startCoords.client.x,this.dy=s.y-t.startCoords.client.y):(this.dx=a.x-t.startCoords.page.x,this.dy=a.y-t.startCoords.page.y):y?this.dy=this.dx=0:"inertiastart"===i?(this.dx=t.prevEvent.dx,this.dy=t.prevEvent.dy):"client"===h?(this.dx=s.x-t.prevEvent.clientX,this.dy=s.y-t.prevEvent.clientY):(this.dx=a.x-t.prevEvent.pageX,this.dy=a.y-t.prevEvent.pageY),t.prevEvent&&"inertia"===t.prevEvent.detail&&!o.active&&m[n].inertia&&m[n].inertia.zeroResumeDelta&&(o.resumeDx+=this.dx,o.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===n&&t.resizeAxes?m.resize.square?("y"===t.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=t.resizeAxes,"x"===t.resizeAxes?this.dy=0:"y"===t.resizeAxes&&(this.dx=0)):"gesture"===n&&(this.touches=[u[0],u[1]],y?(this.distance=$(u,h),this.box=E(u),this.scale=1,this.ds=0,this.angle=T(u,void 0,h),this.da=0):b||e instanceof X?(this.distance=t.prevEvent.distance,this.box=t.prevEvent.box,this.scale=t.prevEvent.scale,this.ds=this.scale-1,this.angle=t.prevEvent.angle,this.da=this.angle-t.gesture.startAngle):(this.distance=$(u,h),this.box=E(u),this.scale=this.distance/t.gesture.startDistance,this.angle=T(u,t.gesture.prevAngle,h),this.ds=this.scale-t.gesture.prevScale,this.da=this.angle-t.gesture.prevAngle)),y?(this.timeStamp=t.downTimes[0],this.velocityY=this.velocityX=this.speed=this.duration=this.dt=0):"inertiastart"===i?(this.timeStamp=t.prevEvent.timeStamp,this.dt=t.prevEvent.dt,this.duration=t.prevEvent.duration,this.speed=t.prevEvent.speed,this.velocityX=t.prevEvent.velocityX,this.velocityY=t.prevEvent.velocityY):(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-t.prevEvent.timeStamp,this.duration=this.timeStamp-t.downTimes[0],e instanceof X?(e=this[f]-t.prevEvent[f],g=this[g]-t.prevEvent[g],n=this.dt/1e3,this.speed=gt(e,g)/n,this.velocityX=e/n,this.velocityY=g/n):(this.speed=t.pointerDelta[h].speed,this.velocityX=t.pointerDelta[h].vx,this.velocityY=t.pointerDelta[h].vy)),(b||"inertiastart"===i)&&600<t.prevEvent.speed&&150>this.timeStamp-t.prevEvent.timeStamp&&(i=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI,0>i&&(i+=360),b=i>=112.5&&247.5>i,g=i>=202.5&&337.5>i,this.swipe={up:g,down:!g&&i>=22.5&&157.5>i,left:b,right:!b&&(i>=292.5||67.5>i),angle:i,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}})}function Y(){this.originalEvent.preventDefault()}function H(t){var e="";if("drag"===t.name&&(e=At.drag),"resize"===t.name)if(t.axis)e=At[t.name+t.axis];else if(t.edges){for(var e="resize",n=["top","bottom","left","right"],i=0;4>i;i++)t.edges[n[i]]&&(e+=n[i]);e=At[e]}return e}function G(t,e,i){t=this.getRect(i);var o,s=!1,c=null,l=null,p=d({},e.curCoords.page),c=this.options;if(!t)return null;if(zt.resize&&c.resize.enabled)if(s=c.resize,o={left:!1,right:!1,top:!1,bottom:!1},r(s.edges)){for(var u in o){var h,f=o,g=u;t:{h=u;var m=s.edges[u],v=p,y=e._eventTarget,b=i,x=t,w=s.margin||Et;if(m){if(!0===m){var S=a(x.width)?x.width:x.right-x.left,k=a(x.height)?x.height:x.bottom-x.top;if(0>S&&("left"===h?h="right":"right"===h&&(h="left")),0>k&&("top"===h?h="bottom":"bottom"===h&&(h="top")),"left"===h){h=v.x<(S>=0?x.left:x.right)+w;break t}if("top"===h){h=v.y<(k>=0?x.top:x.bottom)+w;break t}if("right"===h){h=v.x>(S>=0?x.right:x.left)-w;break t}if("bottom"===h){h=v.y>(k>=0?x.bottom:x.top)-w;break t}}h=n(y)?n(m)?m===y:ot(y,m,b):!1}else h=!1}f[g]=h}o.left=o.left&&!o.right,o.top=o.top&&!o.bottom,s=o.left||o.right||o.top||o.bottom}else i="y"!==c.resize.axis&&p.x>t.right-Et,t="x"!==c.resize.axis&&p.y>t.bottom-Et,s=i||t,l=(i?"x":"")+(t?"y":"");return c=s?"resize":zt.drag&&c.drag.enabled?"drag":null,zt.gesture&&2<=e.pointerIds.length&&!e.dragging&&!e.resizing&&(c="gesture"),c?{name:c,axis:l,edges:o}:null}function W(t,e){if(!r(t))return null;var n=t.name,i=e.options;return("resize"===n&&i.resize.enabled||"drag"===n&&i.drag.enabled||"gesture"===n&&i.gesture.enabled)&&zt[n]?t:null}function K(t,e){var i={},o=wt[t.type],r=x(t.path?t.path[0]:t.target),s=r;e=e?!0:!1;for(var a in t)i[a]=t[a];for(i.originalEvent=t,i.preventDefault=Y;n(s);){for(a=0;a<o.selectors.length;a++){var c=o.contexts[a];if(it(s,o.selectors[a])&&z(c,r)&&z(c,s)){c=o.listeners[a],i.currentTarget=s;for(var l=0;l<c.length;l++)c[l][1]===e&&c[l][0](i)}}s=B(s)}}function V(t){return K.call(this,t,!0)}function J(t,e){return yt.get(t,e)||new Q(t,e)}function Q(t,e){this._element=t,this._iEvents=this._iEvents||{};var i;if(p(t)){this.selector=t;var o=e&&e.context;i=o?w(o):at,o&&(i.Node?o instanceof i.Node:n(o)||o===i.document)&&(this._context=o)}else i=w(t),n(t,i)&&(ft?(qt.add(this._element,rt.down,Lt.pointerDown),qt.add(this._element,rt.move,Lt.pointerHover)):(qt.add(this._element,"mousedown",Lt.pointerDown),qt.add(this._element,"mousemove",Lt.pointerHover),qt.add(this._element,"touchstart",Lt.pointerDown),qt.add(this._element,"touchmove",Lt.pointerHover)));this._doc=i.document,-1===nt(vt,this._doc)&&et(this._doc),yt.push(this),this.set(e)}function Z(t,e){var n=!1;return function(){return n||(at.console.warn(e),n=!0),t.apply(this,arguments)}}function tt(t){for(var e=0;e<bt.length;e++)bt[e].pointerEnd(t,t)}function et(t){if(-1===nt(vt,t)){var e,n=t.defaultView||t.parentWindow;for(e in wt)qt.add(t,e,K),qt.add(t,e,V,!0);ft?(rt=ft===n.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},qt.add(t,rt.down,Lt.selectorDown),qt.add(t,rt.move,Lt.pointerMove),qt.add(t,rt.over,Lt.pointerOver),qt.add(t,rt.out,Lt.pointerOut),qt.add(t,rt.up,Lt.pointerUp),qt.add(t,rt.cancel,Lt.pointerCancel),qt.add(t,rt.move,Lt.autoScrollMove)):(qt.add(t,"mousedown",Lt.selectorDown),qt.add(t,"mousemove",Lt.pointerMove),qt.add(t,"mouseup",Lt.pointerUp),qt.add(t,"mouseover",Lt.pointerOver),qt.add(t,"mouseout",Lt.pointerOut),qt.add(t,"touchstart",Lt.selectorDown),qt.add(t,"touchmove",Lt.pointerMove),qt.add(t,"touchend",Lt.pointerUp),qt.add(t,"touchcancel",Lt.pointerCancel),qt.add(t,"mousemove",Lt.autoScrollMove),qt.add(t,"touchmove",Lt.autoScrollMove)),qt.add(n,"blur",tt);try{if(n.frameElement){var i=n.frameElement.ownerDocument,o=i.defaultView;qt.add(i,"mouseup",Lt.pointerEnd),qt.add(i,"touchend",Lt.pointerEnd),qt.add(i,"touchcancel",Lt.pointerEnd),qt.add(i,"pointerup",Lt.pointerEnd),qt.add(i,"MSPointerUp",Lt.pointerEnd),qt.add(o,"blur",tt)}}catch(r){J.windowParentError=r}qt.add(t,"dragstart",function(t){for(var e=0;e<bt.length;e++){var n=bt[e];if(n.element&&(n.element===t.target||z(n.element,t.target))){n.checkAndPreventDefault(t,n.target,n.element);break}}}),qt.useAttachEvent&&(qt.add(t,"selectstart",function(t){var e=bt[0];e.currentAction()&&e.checkAndPreventDefault(t)}),qt.add(t,"dblclick",F("ie8Dblclick"))),vt.push(t)}}function nt(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function it(e,n,i){return st?st(e,n,i):(at!==t&&(n=n.replace(/\/deep\//g," ")),e[Ot](n))}function ot(t,e,i){for(;n(t);){if(it(t,e))return!0;if(t=B(t),t===i)return it(t,e)}return!1}if(t){var rt,st,at=function(){var e=t.document.createTextNode("");return e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e?t.wrap(t):t}(),ct=at.document,lt=at.DocumentFragment||e,pt=at.SVGElement||e,dt=at.SVGSVGElement||e,ut=at.SVGElementInstance||e,ht=at.HTMLElement||at.Element,ft=at.PointerEvent||at.MSPointerEvent,gt=Math.hypot||function(t,e){return Math.sqrt(t*t+e*e)},mt={},vt=[],yt=[],bt=[],xt=!1,wt={},St={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:ct,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},kt={interaction:null,i:null,x:0,y:0,scroll:function(){var t,e=kt.interaction.target.options[kt.interaction.prepared.name].autoScroll,n=e.container||w(kt.interaction.element),o=(new Date).getTime(),r=(o-kt.prevTimeX)/1e3,s=(o-kt.prevTimeY)/1e3;e.velocity?(t=e.velocity.x,e=e.velocity.y):t=e=e.speed,r*=t,s*=e,(r>=1||s>=1)&&(i(n)?n.scrollBy(kt.x*r,kt.y*s):n&&(n.scrollLeft+=kt.x*r,n.scrollTop+=kt.y*s),r>=1&&(kt.prevTimeX=o),s>=1&&(kt.prevTimeY=o)),kt.isScrolling&&(jt(kt.i),kt.i=Nt(kt.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(t){kt.isScrolling=!0,jt(kt.i),kt.interaction=t,kt.prevTimeX=(new Date).getTime(),kt.prevTimeY=(new Date).getTime(),kt.i=Nt(kt.scroll)},stop:function(){kt.isScrolling=!1,jt(kt.i)}},Ct="ontouchstart"in at||at.DocumentTouch&&ct instanceof at.DocumentTouch,_t=!!ft,Et=Ct||_t?20:10,$t=1,Tt=0,Pt=1/0,At=ct.all&&!at.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},zt={drag:!0,resize:!0,gesture:!0},Mt="onmousewheel"in ct?"mousewheel":"wheel",Bt="dragstart dragmove draginertiastart dragend dragenter dragleave dropactivate dropdeactivate dropmove drop resizestart resizemove resizeinertiastart resizeend gesturestart gesturemove gestureinertiastart gestureend down move up cancel tap doubletap hold".split(" "),Dt={},It="Opera"==navigator.appName&&Ct&&navigator.userAgent.match("Presto"),Rt=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),Ot="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Nt=t.requestAnimationFrame,jt=t.cancelAnimationFrame,qt=function(){function t(e,n,i,r){var d,u,h,f=nt(c,e),g=l[f],m=i;if(g&&g.events)if(o&&(u=p[f],h=nt(u.supplied,i),m=u.wrapped[h]),"all"===n)for(n in g.events)g.events.hasOwnProperty(n)&&t(e,n,"all");else{if(g.events[n]){var v=g.events[n].length;if("all"===i){for(d=0;v>d;d++)t(e,n,g.events[n][d],Boolean(r));return}for(d=0;v>d;d++)if(g.events[n][d]===i){e[s](a+n,m,r||!1),g.events[n].splice(d,1),o&&u&&(u.useCount[h]--,0===u.useCount[h]&&(u.supplied.splice(h,1),u.wrapped.splice(h,1),u.useCount.splice(h,1)));break}g.events[n]&&0===g.events[n].length&&(g.events[n]=null,g.typeCount--)}g.typeCount||(l.splice(f,1),c.splice(f,1),p.splice(f,1))}}function e(){this.returnValue=!1}function n(){this.cancelBubble=!0}function i(){this.immediatePropagationStopped=this.cancelBubble=!0}var o="attachEvent"in at&&!("addEventListener"in at),r=o?"attachEvent":"addEventListener",s=o?"detachEvent":"removeEventListener",a=o?"on":"",c=[],l=[],p=[];return{add:function(t,s,d,u){var h=nt(c,t),f=l[h];if(f||(f={events:{},typeCount:0},h=c.push(t)-1,l.push(f),p.push(o?{supplied:[],wrapped:[],useCount:[]}:null)),f.events[s]||(f.events[s]=[],f.typeCount++),-1===nt(f.events[s],d)){if(o){var h=p[h],g=nt(h.supplied,d),m=h.wrapped[g]||function(o){o.immediatePropagationStopped||(o.target=o.srcElement,o.currentTarget=t,o.preventDefault=o.preventDefault||e,o.stopPropagation=o.stopPropagation||n,o.stopImmediatePropagation=o.stopImmediatePropagation||i,/mouse|click/.test(o.type)&&(o.pageX=o.clientX+w(t).document.documentElement.scrollLeft,o.pageY=o.clientY+w(t).document.documentElement.scrollTop),d(o))};u=t[r](a+s,m,Boolean(u)),-1===g?(h.supplied.push(d),h.wrapped.push(m),h.useCount.push(1)):h.useCount[g]++}else u=t[r](s,d,u||!1);return f.events[s].push(d),u}},remove:t,useAttachEvent:o,_elements:c,_targets:l,_attachedListeners:p}}(),Ut={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};U.prototype={getPageXY:function(t,e){return v(t,e,this)},getClientXY:function(t,e){return y(t,e,this)},setEventXY:function(t,e){var n=1<e.length?_(e):e[0];v(n,mt,this),t.page.x=mt.x,t.page.y=mt.y,y(n,mt,this),t.client.x=mt.x,t.client.y=mt.y,t.timeStamp=(new Date).getTime()},pointerOver:function(t,e,n){function i(t,e){t&&D(t,n)&&!I(t,n,n)&&R(t,n,n)&&it(n,e)&&(o.push(t),r.push(n))}if(!this.prepared.name&&this.mouse){var o=[],r=[],s=this.element;this.addPointer(t),!this.target||!I(this.target,this.element,n)&&R(this.target,this.element,n)||(this.element=this.target=null,this.matches=[],this.matchElements=[]);var a=yt.get(n),c=a&&!I(a,n,n)&&R(a,n,n)&&W(a.getAction(t,e,this,n),a);c&&!q(a,n,c)&&(c=null),c?(this.target=a,this.element=n,this.matches=[],this.matchElements=[]):(yt.forEachSelector(i),this.validateSelector(t,e,o,r)?(this.matches=o,this.matchElements=r,this.pointerHover(t,e,this.matches,this.matchElements),qt.add(n,ft?rt.move:"mousemove",Lt.pointerHover)):this.target&&(z(s,n)?(this.pointerHover(t,e,this.matches,this.matchElements),qt.add(this.element,ft?rt.move:"mousemove",Lt.pointerHover)):(this.element=this.target=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,e,n,i,o,r){if(n=this.target,!this.prepared.name&&this.mouse){var s;this.setEventXY(this.curCoords,[t]),o?s=this.validateSelector(t,e,o,r):n&&(s=W(n.getAction(this.pointers[0],e,this,this.element),this.target)),n&&n.options.styleCursor&&(n._doc.documentElement.style.cursor=s?H(s):"")}else this.prepared.name&&this.checkAndPreventDefault(e,n,this.element)},pointerOut:function(t,e,n){this.prepared.name||(yt.get(n)||qt.remove(n,ft?rt.move:"mousemove",Lt.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,e,i,o){function r(t,e,n){n=st?n.querySelectorAll(e):void 0,D(t,l)&&!I(t,l,i)&&R(t,l,i)&&it(l,e,n)&&(a.matches.push(t),a.matchElements.push(l))}var s,a=this,c=qt.useAttachEvent?d({},e):e,l=i,p=this.addPointer(t);if(this.holdTimers[p]=setTimeout(function(){a.pointerHold(qt.useAttachEvent?c:t,c,i,o)},St._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;n(l);){if(l===this.element&&W(this.target.getAction(t,e,this,this.element),this.target).name===this.prepared.name)return jt(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,e,i,"down");l=B(l)}if(!this.interacting()){for(this.setEventXY(this.curCoords,[t]),this.downEvent=e;n(l)&&!s;)this.matches=[],this.matchElements=[],yt.forEachSelector(r),s=this.validateSelector(t,e,this.matches,this.matchElements),l=B(l);if(s)return this.prepared.name=s.name,this.prepared.axis=s.axis,this.prepared.edges=s.edges,this.collectEventTargets(t,e,i,"down"),this.pointerDown(t,e,i,o,s);this.downTimes[p]=(new Date).getTime(),this.downTargets[p]=i,u(this.downPointer,t),h(this.prevCoords,this.curCoords),this.pointerWasMoved=!1}this.collectEventTargets(t,e,i,"down")},pointerDown:function(t,e,n,i,o){if(!o&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)this.checkAndPreventDefault(e,this.target,this.element);else{this.pointerIsDown=!0,this.downEvent=e;var r,s=this.addPointer(t);if(1<this.pointerIds.length&&this.target._element===this.element){var a=W(o||this.target.getAction(t,e,this,this.element),this.target);q(this.target,this.element,a)&&(r=a),this.prepared.name=null}else this.prepared.name||(a=yt.get(i))&&!I(a,i,n)&&R(a,i,n)&&(r=W(o||a.getAction(t,e,this,i),a,n))&&q(a,i,r)&&(this.target=a,this.element=i);var c=(a=this.target)&&a.options;!a||!o&&this.prepared.name?this.inertiaStatus.active&&i===this.element&&W(a.getAction(t,e,this,this.element),a).name===this.prepared.name&&(jt(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(e,a,this.element)):(r=r||W(o||a.getAction(t,e,this,i),a,this.element),this.setEventXY(this.startCoords,this.pointers),r&&(c.styleCursor&&(a._doc.documentElement.style.cursor=H(r)),this.resizeAxes="resize"===r.name?r.axis:null,"gesture"===r&&2>this.pointerIds.length&&(r=null),this.prepared.name=r.name,this.prepared.axis=r.axis,this.prepared.edges=r.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[s]=(new Date).getTime(),this.downTargets[s]=n,u(this.downPointer,t),h(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(e,a,this.element)))}},setModifications:function(t,e){var n=this.target,i=!0,o=N(n,this.prepared.name)&&(!n.options[this.prepared.name].snap.endOnly||e),n=j(n,this.prepared.name)&&(!n.options[this.prepared.name].restrict.endOnly||e);return o?this.setSnapping(t):this.snapStatus.locked=!1,n?this.setRestriction(t):this.restrictStatus.restricted=!1,o&&this.snapStatus.locked&&!this.snapStatus.changed?i=n&&this.restrictStatus.restricted&&this.restrictStatus.changed:n&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(i=!1),i},setStartOffsets:function(t,e,n){t=e.getRect(n);var i=P(e,n);n=e.options[this.prepared.name].snap,e=e.options[this.prepared.name].restrict;var o,r;if(t?(this.startOffset.left=this.startCoords.page.x-t.left,this.startOffset.top=this.startCoords.page.y-t.top,this.startOffset.right=t.right-this.startCoords.page.x,this.startOffset.bottom=t.bottom-this.startCoords.page.y,o="width"in t?t.width:t.right-t.left,r="height"in t?t.height:t.bottom-t.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0),i=n&&"startCoords"===n.offset?{x:this.startCoords.page.x-i.x,y:this.startCoords.page.y-i.y}:n&&n.offset||{x:0,y:0},t&&n&&n.relativePoints&&n.relativePoints.length)for(var s=0;s<n.relativePoints.length;s++)this.snapOffsets.push({x:this.startOffset.left-o*n.relativePoints[s].x+i.x,y:this.startOffset.top-r*n.relativePoints[s].y+i.y});else this.snapOffsets.push(i);t&&e.elementRect?(this.restrictOffset.left=this.startOffset.left-o*e.elementRect.left,this.restrictOffset.top=this.startOffset.top-r*e.elementRect.top,this.restrictOffset.right=this.startOffset.right-o*(1-e.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-r*(1-e.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(t,e,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===nt(bt,this)&&bt.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=t.name,this.prepared.axis=t.axis,this.prepared.edges=t.edges,this.target=e,this.element=n,this.setStartOffsets(t.name,e,n),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,e,i,o,r){if(this.inertiaStatus.active){o=this.inertiaStatus.upCoords.page;var s=this.inertiaStatus.upCoords.client;this.setEventXY(this.curCoords,[{pageX:o.x+this.inertiaStatus.sx,pageY:o.y+this.inertiaStatus.sy,clientX:s.x+this.inertiaStatus.sx,clientY:s.y+this.inertiaStatus.sy}])}else this.recordPointer(t),this.setEventXY(this.curCoords,this.pointers);o=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y;var a,c,s=this.mouse?0:nt(this.pointerIds,b(t));if(this.pointerIsDown&&!this.pointerWasMoved&&(a=this.curCoords.client.x-this.startCoords.client.x,c=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=gt(a,c)>$t),o||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[s]),this.collectEventTargets(t,e,i,"move")),this.pointerIsDown)if(o&&this.pointerWasMoved&&!r)this.checkAndPreventDefault(e,this.target,this.element);else if(f(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof X&&/inertiastart/.test(t.type))){if(!this.interacting()&&(f(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){a=Math.abs(a),c=Math.abs(c),o=this.target.options.drag.axis;var l=a>c?"x":c>a?"y":"xy";if("xy"!==l&&"xy"!==o&&o!==l){this.prepared.name=null;for(var p=i;n(p);){if((c=yt.get(p))&&c!==this.target&&!c.options.drag.manualStart&&"drag"===c.getAction(this.downPointer,this.downEvent,this,p).name&&O(l,c)){this.prepared.name="drag",this.target=c,this.element=p;break}p=B(p)}if(!this.prepared.name){var d=this;for(c=function(t,e,n){return n=st?n.querySelectorAll(e):void 0,t!==d.target&&D(t,i)&&!t.options.drag.manualStart&&!I(t,p,i)&&R(t,p,i)&&it(p,e,n)&&"drag"===t.getAction(d.downPointer,d.downEvent,d,p).name&&O(l,t)&&q(t,p,"drag")?t:void 0},p=i;n(p);){if(a=yt.forEachSelector(c)){this.prepared.name="drag",this.target=a,this.element=p;break}p=B(p)}}}}if((c=!!this.prepared.name&&!this.interacting())&&(this.target.options[this.prepared.name].manualStart||!q(this.target,this.element,this.prepared)))return void this.stop(e);this.prepared.name&&this.target&&(c&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,r)||c)&&(this.prevEvent=this[this.prepared.name+"Move"](e)),this.checkAndPreventDefault(e,this.target,this.element))}h(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(t)}},dragStart:function(t){var e=new X(this,t,"drag","start",this.element);return this.dragging=!0,this.target.fire(e),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element),t=this.getDropEvents(t,e),t.activate&&this.fireActiveDrops(t.activate),e},dragMove:function(t){var e=this.target,n=new X(this,t,"drag","move",this.element),i=this.getDrop(n,t,this.element);return this.dropTarget=i.dropzone,this.dropElement=i.element,t=this.getDropEvents(t,n),e.fire(n),t.leave&&this.prevDropTarget.fire(t.leave),t.enter&&this.dropTarget.fire(t.enter),t.move&&this.dropTarget.fire(t.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,n},resizeStart:function(t){if(t=new X(this,t,"resize","start",this.element),this.prepared.edges){var e=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var n=d({},this.prepared.edges);n.top=n.top||n.left&&!n.bottom,n.left=n.left||n.top&&!n.right,n.bottom=n.bottom||n.right&&!n.top,n.right=n.right||n.bottom&&!n.left,this.prepared._linkedEdges=n}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=e.width/e.height),this.resizeRects={start:e,current:d({},e),restricted:d({},e),previous:d({},e),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(t){t=new X(this,t,"resize","move",this.element);var e=this.prepared.edges,n=this.target.options.resize.invert,i="reposition"===n||"negate"===n;if(e){var o=t.dx,r=t.dy,s=this.resizeRects.start,a=this.resizeRects.current,c=this.resizeRects.restricted,l=this.resizeRects.delta,p=d(this.resizeRects.previous,c),u=e;if(this.target.options.resize.preserveAspectRatio){var h=this.resizeStartAspectRatio,e=this.prepared._linkedEdges;u.left&&u.bottom||u.right&&u.top?r=-o/h:u.left||u.right?r=o/h:(u.top||u.bottom)&&(o=r*h)}else this.target.options.resize.square&&(e=this.prepared._linkedEdges,u.left&&u.bottom||u.right&&u.top?r=-o:u.left||u.right?r=o:(u.top||u.bottom)&&(o=r));e.top&&(a.top+=r),e.bottom&&(a.bottom+=r),e.left&&(a.left+=o),e.right&&(a.right+=o),i?(d(c,a),"reposition"===n&&(c.top>c.bottom&&(e=c.top,c.top=c.bottom,c.bottom=e),c.left>c.right&&(e=c.left,c.left=c.right,c.right=e))):(c.top=Math.min(a.top,s.bottom),c.bottom=Math.max(a.bottom,s.top),c.left=Math.min(a.left,s.right),c.right=Math.max(a.right,s.left)),c.width=c.right-c.left,c.height=c.bottom-c.top;for(var f in c)l[f]=c[f]-p[f];t.edges=this.prepared.edges,t.rect=c,t.deltaRect=l}return this.target.fire(t),t},gestureStart:function(t){return t=new X(this,t,"gesture","start",this.element),t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(t){return this.pointerIds.length?(t=new X(this,t,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,1/0===t.scale||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t):this.prevEvent},pointerHold:function(t,e,n){this.collectEventTargets(t,e,n,"hold")},pointerUp:function(t,e,n,i){var o=this.mouse?0:nt(this.pointerIds,b(t));clearTimeout(this.holdTimers[o]),this.collectEventTargets(t,e,n,"up"),this.collectEventTargets(t,e,n,"tap"),this.pointerEnd(t,e,n,i),this.removePointer(t)},pointerCancel:function(t,e,n,i){var o=this.mouse?0:nt(this.pointerIds,b(t));clearTimeout(this.holdTimers[o]),this.collectEventTargets(t,e,n,"cancel"),this.pointerEnd(t,e,n,i),this.removePointer(t)},ie8Dblclick:function(t,e,n){this.prevTap&&e.clientX===this.prevTap.clientX&&e.clientY===this.prevTap.clientY&&n===this.prevTap.target&&(this.downTargets[0]=n,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(t,e,n,"tap"))},pointerEnd:function(t,e,n,i){var o,r=this.target,s=r&&r.options,a=s&&this.prepared.name&&s[this.prepared.name].inertia;if(o=this.inertiaStatus,this.interacting()){if(o.active&&!o.ending)return;var c=(new Date).getTime(),l=!1,p=!1,u=!1,f=N(r,this.prepared.name)&&s[this.prepared.name].snap.endOnly,g=j(r,this.prepared.name)&&s[this.prepared.name].restrict.endOnly,m=0,v=0,s=this.dragging?"x"===s.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===s.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,p=(l=a&&a.enabled&&"gesture"!==this.prepared.name&&e!==o.startEvent)&&50>c-this.curCoords.timeStamp&&s>a.minSpeed&&s>a.endSpeed;if(l&&!p&&(f||g)&&(a={},a.snap=a.restrict=a,f&&(this.setSnapping(this.curCoords.page,a),a.locked&&(m+=a.dx,v+=a.dy)),g&&(this.setRestriction(this.curCoords.page,a),a.restricted&&(m+=a.dx,v+=a.dy)),m||v)&&(u=!0),p||u)return h(o.upCoords,this.curCoords),this.pointers[0]=o.startEvent=new X(this,e,this.prepared.name,"inertiastart",this.element),o.t0=c,r.fire(o.startEvent),p?(o.vx0=this.pointerDelta.client.vx,o.vy0=this.pointerDelta.client.vy,o.v0=s,this.calcInertia(o),e=d({},this.curCoords.page),r=P(r,this.element),e.x=e.x+o.xe-r.x,e.y=e.y+o.ye-r.y,r={useStatusXY:!0,x:e.x,y:e.y,dx:0,dy:0,snap:null},r.snap=r,m=v=0,f&&(e=this.setSnapping(this.curCoords.page,r),e.locked&&(m+=e.dx,v+=e.dy)),g&&(r=this.setRestriction(this.curCoords.page,r),r.restricted&&(m+=r.dx,v+=r.dy)),o.modifiedXe+=m,o.modifiedYe+=v,o.i=Nt(this.boundInertiaFrame)):(o.smoothEnd=!0,o.xe=m,o.ye=v,o.sx=o.sy=0,o.i=Nt(this.boundSmoothEndFrame)),void(o.active=!0);(f||g)&&this.pointerMove(t,e,n,i,!0)}this.dragging?(o=new X(this,e,"drag","end",this.element),g=this.getDrop(o,e,this.element),this.dropTarget=g.dropzone,this.dropElement=g.element,g=this.getDropEvents(e,o),g.leave&&this.prevDropTarget.fire(g.leave),g.enter&&this.dropTarget.fire(g.enter),g.drop&&this.dropTarget.fire(g.drop),g.deactivate&&this.fireActiveDrops(g.deactivate),r.fire(o)):this.resizing?(o=new X(this,e,"resize","end",this.element),r.fire(o)):this.gesturing&&(o=new X(this,e,"gesture","end",this.element),r.fire(o)),this.stop(e)},collectDrops:function(t){var e,i=[],o=[];for(t=t||this.element,e=0;e<yt.length;e++)if(yt[e].options.drop.enabled){var r=yt[e],s=r.options.drop.accept;if(!(n(s)&&s!==t||l(s)&&!it(t,s)))for(var s=r.selector?r._context.querySelectorAll(r.selector):[r._element],a=0,c=s.length;c>a;a++){var p=s[a];p!==t&&(i.push(r),o.push(p))}}return{dropzones:i,elements:o}},fireActiveDrops:function(t){var e,n,i,o;for(e=0;e<this.activeDrops.dropzones.length;e++)n=this.activeDrops.dropzones[e],i=this.activeDrops.elements[e],i!==o&&(t.target=i,n.fire(t)),o=i},setActiveDrops:function(t){for(t=this.collectDrops(t,!0),this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[],t=0;t<this.activeDrops.dropzones.length;t++)this.activeDrops.rects[t]=this.activeDrops.dropzones[t].getRect(this.activeDrops.elements[t])},getDrop:function(t,e,n){var i=[];xt&&this.setActiveDrops(n);for(var o=0;o<this.activeDrops.dropzones.length;o++){var r=this.activeDrops.elements[o];i.push(this.activeDrops.dropzones[o].dropCheck(t,e,this.target,n,r,this.activeDrops.rects[o])?r:null)}n=(e=i[0])?0:-1;for(var s,o=[],a=[],r=1;r<i.length;r++)if((t=i[r])&&t!==e)if(e){
if(t.parentNode!==t.ownerDocument)if(e.parentNode===t.ownerDocument)e=t,n=r;else{if(!o.length)for(s=e;s.parentNode&&s.parentNode!==s.ownerDocument;)o.unshift(s),s=s.parentNode;if(e instanceof ht&&t instanceof pt&&!(t instanceof dt)){if(t===e.parentNode)continue;s=t.ownerSVGElement}else s=t;for(a=[];s.parentNode!==s.ownerDocument;)a.unshift(s),s=s.parentNode;for(s=0;a[s]&&a[s]===o[s];)s++;for(s=[a[s-1],a[s],o[s]],a=s[0].lastChild;a;){if(a===s[1]){e=t,n=r,o=[];break}if(a===s[2])break;a=a.previousSibling}}}else e=t,n=r;return i=n,{dropzone:this.activeDrops.dropzones[i]||null,element:this.activeDrops.elements[i]||null}},getDropEvents:function(t,e){var n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(n.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragleave"},e.dragLeave=this.prevDropElement,e.prevDropzone=this.prevDropTarget),this.dropTarget&&(n.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragenter"},e.dragEnter=this.dropElement,e.dropzone=this.dropTarget)),"dragend"===e.type&&this.dropTarget&&(n.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"drop"},e.dropzone=this.dropTarget),"dragstart"===e.type&&(n.activate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropactivate"}),"dragend"===e.type&&(n.deactivate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropdeactivate"}),"dragmove"===e.type&&this.dropTarget&&(n.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,dragmove:e,timeStamp:e.timeStamp,type:"dropmove"},e.dropzone=this.dropTarget),n},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=this.target=this.element=null},stop:function(t){if(this.interacting()){kt.stop(),this.matches=[],this.matchElements=[];var e=this.target;e.options.styleCursor&&(e._doc.documentElement.style.cursor=""),t&&s(t.preventDefault)&&this.checkAndPreventDefault(t,e,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}for(this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,t=this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;t<this.pointers.length;t++)-1===nt(this.pointerIds,b(this.pointers[t]))&&this.pointers.splice(t,1)},inertiaFrame:function(){var t,e,n=this.inertiaStatus;if(t=this.target.options[this.prepared.name].inertia.resistance,e=(new Date).getTime()/1e3-n.t0,e<n.te){if(e=1-(Math.exp(-t*e)-n.lambda_v0)/n.one_ve_v0,n.modifiedXe===n.xe&&n.modifiedYe===n.ye)n.sx=n.xe*e,n.sy=n.ye*e;else{var i=n.ye,o=n.modifiedYe;t=A(e,0,n.xe,n.modifiedXe),e=A(e,0,i,o),n.sx=t,n.sy=e}this.pointerMove(n.startEvent,n.startEvent),n.i=Nt(this.boundInertiaFrame)}else n.ending=!0,n.sx=n.modifiedXe,n.sy=n.modifiedYe,this.pointerMove(n.startEvent,n.startEvent),this.pointerEnd(n.startEvent,n.startEvent),n.active=n.ending=!1},smoothEndFrame:function(){var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;if(n>e){var i;i=e/n,t.sx=-t.xe*i*(i-2)+0,e/=n,t.sy=-t.ye*e*(e-2)+0,this.pointerMove(t.startEvent,t.startEvent),t.i=Nt(this.boundSmoothEndFrame)}else t.ending=!0,t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),this.pointerEnd(t.startEvent,t.startEvent),t.smoothEnd=t.active=t.ending=!1},addPointer:function(t){var e=b(t),n=this.mouse?0:nt(this.pointerIds,e);return-1===n&&(n=this.pointerIds.length),this.pointerIds[n]=e,this.pointers[n]=t,n},removePointer:function(t){t=b(t),t=this.mouse?0:nt(this.pointerIds,t),-1!==t&&(this.pointers.splice(t,1),this.pointerIds.splice(t,1),this.downTargets.splice(t,1),this.downTimes.splice(t,1),this.holdTimers.splice(t,1))},recordPointer:function(t){var e=this.mouse?0:nt(this.pointerIds,b(t));-1!==e&&(this.pointers[e]=t)},collectEventTargets:function(t,e,i,o){function r(t,e,r){r=st?r.querySelectorAll(e):void 0,t._iEvents[o]&&n(l)&&D(t,l)&&!I(t,l,i)&&R(t,l,i)&&it(l,e,r)&&(a.push(t),c.push(l))}var s=this.mouse?0:nt(this.pointerIds,b(t));if("tap"!==o||!this.pointerWasMoved&&this.downTargets[s]&&this.downTargets[s]===i){for(var a=[],c=[],l=i;l;)J.isSet(l)&&J(l)._iEvents[o]&&(a.push(J(l)),c.push(l)),yt.forEachSelector(r),l=B(l);(a.length||"tap"===o)&&this.firePointers(t,e,i,a,c,o)}},firePointers:function(t,e,n,i,o,r){var s,a,c=this.mouse?0:nt(this.pointerIds,b(t)),p={};for("doubletap"===r?p=t:(u(p,e),e!==t&&u(p,t),p.preventDefault=Y,p.stopPropagation=X.prototype.stopPropagation,p.stopImmediatePropagation=X.prototype.stopImmediatePropagation,p.interaction=this,p.timeStamp=(new Date).getTime(),p.originalEvent=e,p.originalPointer=t,p.type=r,p.pointerId=b(t),p.pointerType=this.mouse?"mouse":_t?l(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===r&&(p.dt=p.timeStamp-this.downTimes[c],s=p.timeStamp-this.tapTime,a=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===p.target&&500>s),p["double"]=a,this.tapTime=p.timeStamp),t=0;t<i.length&&(p.currentTarget=o[t],p.interactable=i[t],i[t].fire(p),!(p.immediatePropagationStopped||p.propagationStopped&&o[t+1]!==p.currentTarget));t++);a?(i={},d(i,p),i.dt=s,i.type="doubletap",this.collectEventTargets(i,e,n,"doubletap"),this.prevTap=i):"tap"===r&&(this.prevTap=p)},validateSelector:function(t,e,n,i){for(var o=0,r=n.length;r>o;o++){var s=n[o],a=i[o],c=W(s.getAction(t,e,this,a),s);if(c&&q(s,a,c))return this.target=s,this.element=a,c}},setSnapping:function(t,e){var n,i,o,r=this.target.options[this.prepared.name].snap,c=[];e=e||this.snapStatus,e.useStatusXY?i={x:e.x,y:e.y}:(n=P(this.target,this.element),i=d({},t),i.x-=n.x,i.y-=n.y),e.realX=i.x,e.realY=i.y,i.x-=this.inertiaStatus.resumeDx,i.y-=this.inertiaStatus.resumeDy;for(var l=r.targets?r.targets.length:0,p=0;p<this.snapOffsets.length;p++){var u=i.x-this.snapOffsets[p].x,h=i.y-this.snapOffsets[p].y;for(o=0;l>o;o++)(n=s(r.targets[o])?r.targets[o](u,h,this):r.targets[o])&&c.push({x:a(n.x)?n.x+this.snapOffsets[p].x:u,y:a(n.y)?n.y+this.snapOffsets[p].y:h,range:a(n.range)?n.range:r.range})}var r=null,p=!1,f=0,g=0;for(o=h=u=0,l=c.length;l>o;o++){n=c[o];var m=n.range,v=n.x-i.x,y=n.y-i.y,b=gt(v,y),x=m>=b;1/0===m&&p&&1/0!==g&&(x=!1),(!r||(x?p&&1/0!==m?f/g>b/m:1/0===m&&1/0!==g||f>b:!p&&f>b))&&(1/0===m&&(x=!0),r=n,f=b,g=m,p=x,u=v,h=y,e.range=m)}return r?(c=e.snappedX!==r.x||e.snappedY!==r.y,e.snappedX=r.x,e.snappedY=r.y):(c=!0,e.snappedX=NaN,e.snappedY=NaN),e.dx=u,e.dy=h,e.changed=c||p&&!e.locked,e.locked=p,e},setRestriction:function(t,e){var i=this.target,o=i&&i.options[this.prepared.name].restrict,r=o&&o.restriction;return r?(e=e||this.restrictStatus,o=o=e.useStatusXY?{x:e.x,y:e.y}:d({},t),e.snap&&e.snap.locked&&(o.x+=e.snap.dx||0,o.y+=e.snap.dy||0),o.x-=this.inertiaStatus.resumeDx,o.y-=this.inertiaStatus.resumeDy,e.dx=0,e.dy=0,e.restricted=!1,l(r)&&(r="parent"===r?B(this.element):"self"===r?i.getRect(this.element):M(this.element,r),!r)?e:(s(r)&&(r=r(o.x,o.y,this.element)),n(r)&&(r=k(r)),(i=r)?"x"in r&&"y"in r?(r=Math.max(Math.min(i.x+i.width-this.restrictOffset.right,o.x),i.x+this.restrictOffset.left),i=Math.max(Math.min(i.y+i.height-this.restrictOffset.bottom,o.y),i.y+this.restrictOffset.top)):(r=Math.max(Math.min(i.right-this.restrictOffset.right,o.x),i.left+this.restrictOffset.left),i=Math.max(Math.min(i.bottom-this.restrictOffset.bottom,o.y),i.top+this.restrictOffset.top)):(r=o.x,i=o.y),e.dx=r-o.x,e.dy=i-o.y,e.changed=e.restrictedX!==r||e.restrictedY!==i,e.restricted=!(!e.dx&&!e.dy),e.restrictedX=r,e.restrictedY=i,e)):e},checkAndPreventDefault:function(t,e,n){if(e=e||this.target){e=e.options;var i=e.preventDefault;"auto"===i&&n&&!/^(input|select|textarea)$/i.test(t.target.nodeName)?/down|start/i.test(t.type)&&"drag"===this.prepared.name&&"xy"!==e.drag.axis||e[this.prepared.name]&&e[this.prepared.name].manualStart&&!this.interacting()||t.preventDefault():"always"===i&&t.preventDefault()}},calcInertia:function(t){var e=this.target.options[this.prepared.name].inertia,n=e.resistance,i=-Math.log(e.endSpeed/t.v0)/n;t.x0=this.prevEvent.pageX,t.y0=this.prevEvent.pageY,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-i)/n,t.modifiedYe=t.ye=(t.vy0-i)/n,t.te=i,t.lambda_v0=n/t.v0,t.one_ve_v0=1-e.endSpeed/t.v0},autoScrollMove:function(t){var e;if(e=this.interacting()){e=this.prepared.name;var n=this.target.options;/^resize/.test(e)&&(e="resize"),e=n[e].autoScroll&&n[e].autoScroll.enabled}if(e)if(this.inertiaStatus.active)kt.x=kt.y=0;else{var o,r=this.target.options[this.prepared.name].autoScroll,s=r.container||w(this.element);i(s)?(o=t.clientX<kt.margin,e=t.clientY<kt.margin,n=t.clientX>s.innerWidth-kt.margin,t=t.clientY>s.innerHeight-kt.margin):(s=S(s),o=t.clientX<s.left+kt.margin,e=t.clientY<s.top+kt.margin,n=t.clientX>s.right-kt.margin,t=t.clientY>s.bottom-kt.margin),kt.x=n?1:o?-1:0,kt.y=t?1:e?-1:0,kt.isScrolling||(kt.margin=r.margin,kt.speed=r.speed,kt.start(this))}},_updateEventTargets:function(t,e){this._eventTarget=t,this._curEventTarget=e}},X.prototype={preventDefault:e,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Lt={},Ft="dragStart dragMove resizeStart resizeMove gestureStart gestureMove pointerOver pointerOut pointerHover selectorDown pointerDown pointerMove pointerUp pointerCancel pointerEnd addPointer removePointer recordPointer autoScrollMove".split(" "),Xt=0,Yt=Ft.length;Yt>Xt;Xt++){var Ht=Ft[Xt];Lt[Ht]=F(Ht)}yt.indexOfElement=function(t,e){e=e||ct;for(var n=0;n<this.length;n++){var i=this[n];if(i.selector===t&&i._context===e||!i.selector&&i._element===t)return n}return-1},yt.get=function(t,e){return this[this.indexOfElement(t,e&&e.context)]},yt.forEachSelector=function(t){for(var e=0;e<this.length;e++){var n=this[e];if(n.selector&&(n=t(n,n.selector,n._context,e,this),void 0!==n))return n}},Q.prototype={setOnEvents:function(t,e){return"drop"===t?(s(e.ondrop)&&(this.ondrop=e.ondrop),s(e.ondropactivate)&&(this.ondropactivate=e.ondropactivate),s(e.ondropdeactivate)&&(this.ondropdeactivate=e.ondropdeactivate),s(e.ondragenter)&&(this.ondragenter=e.ondragenter),s(e.ondragleave)&&(this.ondragleave=e.ondragleave),s(e.ondropmove)&&(this.ondropmove=e.ondropmove)):(t="on"+t,s(e.onstart)&&(this[t+"start"]=e.onstart),s(e.onmove)&&(this[t+"move"]=e.onmove),s(e.onend)&&(this[t+"end"]=e.onend),s(e.oninertiastart)&&(this[t+"inertiastart"]=e.oninertiastart)),this},draggable:function(t){return r(t)?(this.options.drag.enabled=!1===t.enabled?!1:!0,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.drag.axis=t.axis:null===t.axis&&delete this.options.drag.axis,this):c(t)?(this.options.drag.enabled=t,this):this.options.drag},setPerAction:function(t,e){for(var n in e)n in St[t]&&(r(e[n])?(this.options[t][n]=d(this.options[t][n]||{},e[n]),r(St.perAction[n])&&"enabled"in St.perAction[n]&&(this.options[t][n].enabled=!1===e[n].enabled?!1:!0)):c(e[n])&&r(St.perAction[n])?this.options[t][n].enabled=e[n]:void 0!==e[n]&&(this.options[t][n]=e[n]))},dropzone:function(t){return r(t)?(this.options.drop.enabled=!1===t.enabled?!1:!0,this.setOnEvents("drop",t),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:a(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(this.options.drop.accept=t.accept),"checker"in t&&(this.options.drop.checker=t.checker),this):c(t)?(this.options.drop.enabled=t,this):this.options.drop},dropCheck:function(t,e,n,i,o,r){var s=!1;if(!(r=r||this.getRect(o)))return this.options.drop.checker?this.options.drop.checker(t,e,s,this,o,n,i):!1;var c=this.options.drop.overlap;if("pointer"===c){var l=v(t),s=P(n,i);l.x+=s.x,l.y+=s.y,s=l.x>r.left&&l.x<r.right,l=l.y>r.top&&l.y<r.bottom,s=s&&l}if(l=n.getRect(i),"center"===c)var s=l.left+l.width/2,p=l.top+l.height/2,s=s>=r.left&&s<=r.right&&p>=r.top&&p<=r.bottom;return a(c)&&(s=Math.max(0,Math.min(r.right,l.right)-Math.max(r.left,l.left))*Math.max(0,Math.min(r.bottom,l.bottom)-Math.max(r.top,l.top))/(l.width*l.height)>=c),this.options.drop.checker&&(s=this.options.drop.checker(t,e,s,this,o,n,i)),s},dropChecker:function(t){return s(t)?(this.options.drop.checker=t,this):null===t?(delete this.options.getRect,this):this.options.drop.checker},accept:function(t){return n(t)||p(t)?(this.options.drop.accept=t,this):null===t?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(t){return r(t)?(this.options.resize.enabled=!1===t.enabled?!1:!0,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=St.resize.axis),c(t.preserveAspectRatio)?this.options.resize.preserveAspectRatio=t.preserveAspectRatio:c(t.square)&&(this.options.resize.square=t.square),this):c(t)?(this.options.resize.enabled=t,this):this.options.resize},squareResize:function(t){return c(t)?(this.options.resize.square=t,this):null===t?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(t){return r(t)?(this.options.gesture.enabled=!1===t.enabled?!1:!0,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):c(t)?(this.options.gesture.enabled=t,this):this.options.gesture},autoScroll:function(t){return r(t)?t=d({actions:["drag","resize"]},t):c(t)&&(t={actions:["drag","resize"],enabled:t}),this.setOptions("autoScroll",t)},snap:function(t){return t=this.setOptions("snap",t),t===this?this:t.drag},setOptions:function(t,e){var n,i=e&&o(e.actions)?e.actions:["drag"];if(r(e)||c(e)){for(n=0;n<i.length;n++){var s=/resize/.test(i[n])?"resize":i[n];r(this.options[s])&&(s=this.options[s][t],r(e)?(d(s,e),s.enabled=!1===e.enabled?!1:!0,"snap"===t&&("grid"===s.mode?s.targets=[J.createSnapGrid(d({offset:s.gridOffset||{x:0,y:0}},s.grid||{}))]:"anchor"===s.mode?s.targets=s.anchors:"path"===s.mode&&(s.targets=s.paths),"elementOrigin"in e&&(s.relativePoints=[e.elementOrigin]))):c(e)&&(s.enabled=e))}return this}for(i={},s=["drag","resize","gesture"],n=0;n<s.length;n++)t in St[s[n]]&&(i[s[n]]=this.options[s[n]][t]);return i},inertia:function(t){return t=this.setOptions("inertia",t),t===this?this:t.drag},getAction:function(t,e,n,i){var o=this.defaultActionChecker(t,n,i);return this.options.actionChecker?this.options.actionChecker(t,e,o,this,i,n):o},defaultActionChecker:G,actionChecker:function(t){return s(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(t){return t=t||this._element,this.selector&&!n(t)&&(t=this._context.querySelector(this.selector)),k(t)},rectChecker:function(t){return s(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},styleCursor:function(t){return c(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):c(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},origin:function(t){return p(t)||r(t)?(this.options.origin=t,this):this.options.origin},deltaSource:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},restrict:function(t){if(!r(t))return this.setOptions("restrict",t);for(var e,n=["drag","resize","gesture"],i=0;i<n.length;i++){var o=n[i];o in t&&(e=d({actions:[o],restriction:t[o]},t),e=this.setOptions("restrict",e))}return e},context:function(){return this._context},_context:ct,ignoreFrom:function(t){return p(t)||n(t)?(this.options.ignoreFrom=t,this):this.options.ignoreFrom},allowFrom:function(t){return p(t)||n(t)?(this.options.allowFrom=t,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||-1===nt(Bt,t.type))return this;var e,n,i,o="on"+t.type;if(t.type in this._iEvents)for(e=this._iEvents[t.type],n=0,i=e.length;i>n&&!t.immediatePropagationStopped;n++)e[n](t);if(s(this[o])&&this[o](t),t.type in Dt&&(e=Dt[t.type]))for(n=0,i=e.length;i>n&&!t.immediatePropagationStopped;n++)e[n](t);return this},on:function(t,e,n){var i;if(l(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(i=0;i<t.length;i++)this.on(t[i],e,n);return this}if(r(t)){for(i in t)this.on(i,t[i],e);return this}if("wheel"===t&&(t=Mt),n=n?!0:!1,-1!==nt(Bt,t))t in this._iEvents?this._iEvents[t].push(e):this._iEvents[t]=[e];else if(this.selector){if(!wt[t])for(wt[t]={selectors:[],contexts:[],listeners:[]},i=0;i<vt.length;i++)qt.add(vt[i],t,K),qt.add(vt[i],t,V,!0);for(t=wt[t],i=t.selectors.length-1;i>=0&&(t.selectors[i]!==this.selector||t.contexts[i]!==this._context);i--);-1===i&&(i=t.selectors.length,t.selectors.push(this.selector),t.contexts.push(this._context),t.listeners.push([])),t.listeners[i].push([e,n])}else qt.add(this._element,t,e,n);return this},off:function(t,e,n){var i;if(l(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(i=0;i<t.length;i++)this.off(t[i],e,n);return this}if(r(t)){for(var s in t)this.off(s,t[s],e);return this}if(s=-1,n=n?!0:!1,"wheel"===t&&(t=Mt),-1!==nt(Bt,t))(n=this._iEvents[t])&&-1!==(s=nt(n,e))&&this._iEvents[t].splice(s,1);else if(this.selector){var a=wt[t],c=!1;if(!a)return this;for(s=a.selectors.length-1;s>=0;s--)if(a.selectors[s]===this.selector&&a.contexts[s]===this._context){var p=a.listeners[s];for(i=p.length-1;i>=0;i--){var d=p[i][1];if(p[i][0]===e&&d===n){p.splice(i,1),p.length||(a.selectors.splice(s,1),a.contexts.splice(s,1),a.listeners.splice(s,1),qt.remove(this._context,t,K),qt.remove(this._context,t,V,!0),a.selectors.length||(wt[t]=null)),c=!0;break}}if(c)break}}else qt.remove(this._element,t,e,n);return this},set:function(t){r(t)||(t={}),this.options=d({},St.base);var e,n=["drag","drop","resize","gesture"],i=["draggable","dropzone","resizable","gesturable"],o=d(d({},St.perAction),t[s]||{});for(e=0;e<n.length;e++){var s=n[e];this.options[s]=d({},St[s]),this.setPerAction(s,o),this[i[e]](t[s])}for(n="accept actionChecker allowFrom deltaSource dropChecker ignoreFrom origin preventDefault rectChecker styleCursor".split(" "),e=0,Yt=n.length;Yt>e;e++)i=n[e],this.options[i]=St.base[i],i in t&&this[i](t[i]);return this},unset:function(){if(qt.remove(this._element,"all"),l(this.selector))for(var t in wt)for(var e=wt[t];0<e.selectors.length;){e.selectors[0]===this.selector&&e.contexts[0]===this._context&&(e.selectors.splice(0,1),e.contexts.splice(0,1),e.listeners.splice(0,1),e.selectors.length||(wt[t]=null)),qt.remove(this._context,t,K),qt.remove(this._context,t,V,!0);break}else qt.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),yt.splice(nt(yt,this),1),J}},Q.prototype.snap=Z(Q.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),Q.prototype.restrict=Z(Q.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),Q.prototype.inertia=Z(Q.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),Q.prototype.autoScroll=Z(Q.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),Q.prototype.squareResize=Z(Q.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),Q.prototype.accept=Z(Q.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),Q.prototype.dropChecker=Z(Q.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),Q.prototype.context=Z(Q.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),J.isSet=function(t,e){return-1!==yt.indexOfElement(t,e&&e.context)},J.on=function(t,e,n){if(l(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(var i=0;i<t.length;i++)J.on(t[i],e,n);return J}if(r(t)){for(i in t)J.on(i,t[i],e);return J}return-1!==nt(Bt,t)?Dt[t]?Dt[t].push(e):Dt[t]=[e]:qt.add(ct,t,e,n),J},J.off=function(t,e,n){if(l(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(var i=0;i<t.length;i++)J.off(t[i],e,n);return J}if(r(t)){for(i in t)J.off(i,t[i],e);return J}if(-1===nt(Bt,t))qt.remove(ct,t,e,n);else{var s;t in Dt&&-1!==(s=nt(Dt[t],e))&&Dt[t].splice(s,1)}return J},J.enableDragging=Z(function(t){return null!==t&&void 0!==t?(zt.drag=t,J):zt.drag},"interact.enableDragging is deprecated and will soon be removed."),J.enableResizing=Z(function(t){return null!==t&&void 0!==t?(zt.resize=t,J):zt.resize},"interact.enableResizing is deprecated and will soon be removed."),J.enableGesturing=Z(function(t){return null!==t&&void 0!==t?(zt.gesture=t,J):zt.gesture},"interact.enableGesturing is deprecated and will soon be removed."),J.eventTypes=Bt,J.debug=function(){var t=bt[0]||new U;return{interactions:bt,target:t.target,dragging:t.dragging,resizing:t.resizing,gesturing:t.gesturing,prepared:t.prepared,matches:t.matches,matchElements:t.matchElements,prevCoords:t.prevCoords,startCoords:t.startCoords,pointerIds:t.pointerIds,pointers:t.pointers,addPointer:Lt.addPointer,removePointer:Lt.removePointer,recordPointer:Lt.recordPointer,snap:t.snapStatus,restrict:t.restrictStatus,inertia:t.inertiaStatus,downTime:t.downTimes[0],downEvent:t.downEvent,downPointer:t.downPointer,prevEvent:t.prevEvent,Interactable:Q,interactables:yt,pointerIsDown:t.pointerIsDown,defaultOptions:St,defaultActionChecker:G,actionCursors:At,dragMove:Lt.dragMove,resizeMove:Lt.resizeMove,gestureMove:Lt.gestureMove,pointerUp:Lt.pointerUp,pointerDown:Lt.pointerDown,pointerMove:Lt.pointerMove,pointerHover:Lt.pointerHover,eventTypes:Bt,events:qt,globalEvents:Dt,delegatedEvents:wt,prefixedPropREs:Ut}},J.getPointerAverage=_,J.getTouchBBox=E,J.getTouchDistance=$,J.getTouchAngle=T,J.getElementRect=k,J.getElementClientRect=S,J.matchesSelector=it,J.closest=M,J.margin=Z(function(t){return a(t)?(Et=t,J):Et},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),J.supportsTouch=function(){return Ct},J.supportsPointerEvent=function(){return _t},J.stop=function(t){for(var e=bt.length-1;e>=0;e--)bt[e].stop(t);return J},J.dynamicDrop=function(t){return c(t)?(xt=t,J):xt},J.pointerMoveTolerance=function(t){return a(t)?($t=t,this):$t},J.maxInteractions=function(t){return a(t)?(Pt=t,this):Pt},J.createSnapGrid=function(t){return function(e,n){var i=0,o=0;return r(t.offset)&&(i=t.offset.x,o=t.offset.y),{x:Math.round((e-i)/t.x)*t.x+i,y:Math.round((n-o)/t.y)*t.y+o,range:t.range}}},et(ct),Ot in Element.prototype&&s(Element.prototype[Ot])||(st=function(t,e,n){n=n||t.parentNode.querySelectorAll(e),e=0;for(var i=n.length;i>e;e++)if(n[e]===t)return!0;return!1}),function(){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)Nt=t[n[i]+"RequestAnimationFrame"],jt=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];Nt||(Nt=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=setTimeout(function(){t(n+i)},i);return e=n+i,o}),jt||(jt=function(t){clearTimeout(t)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=J),exports.interact=J):"function"==typeof define&&define.amd?define("interact",function(){return J}):t.interact=J}}("undefined"==typeof window?void 0:window),!function(t){var e={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(o){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(o)}),this;var r={},s=this;e.el=this;var a=t(window).width(),c=t(window).height(),l=function(){r.settings=t.extend({},n,o),r.settings.slideWidth=parseInt(r.settings.slideWidth),r.children=s.children(r.settings.slideSelector),r.children.length<r.settings.minSlides&&(r.settings.minSlides=r.children.length),r.children.length<r.settings.maxSlides&&(r.settings.maxSlides=r.children.length),r.settings.randomStart&&(r.settings.startSlide=Math.floor(Math.random()*r.children.length)),r.active={index:r.settings.startSlide},r.carousel=r.settings.minSlides>1||r.settings.maxSlides>1,r.carousel&&(r.settings.preloadImages="all"),r.minThreshold=r.settings.minSlides*r.settings.slideWidth+(r.settings.minSlides-1)*r.settings.slideMargin,r.maxThreshold=r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin,r.working=!1,r.controls={},r.interval=null,r.animProp="vertical"==r.settings.mode?"top":"left",r.usingCSS=r.settings.useCSS&&"fade"!=r.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in e)if(void 0!==t.style[e[n]])return r.cssPrefix=e[n].replace("Perspective","").toLowerCase(),r.animProp="-"+r.cssPrefix+"-transform",!0;return!1}(),"vertical"==r.settings.mode&&(r.settings.maxSlides=r.settings.minSlides),s.data("origStyle",s.attr("style")),s.children(r.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),p()},p=function(){s.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),r.viewport=s.parent(),r.loader=t('<div class="bx-loading" />'),r.viewport.prepend(r.loader),s.css({width:"horizontal"==r.settings.mode?100*r.children.length+215+"%":"auto",position:"relative"}),r.usingCSS&&r.settings.easing?s.css("-"+r.cssPrefix+"-transition-timing-function",r.settings.easing):r.settings.easing||(r.settings.easing="swing"),m(),r.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),r.viewport.parent().css({maxWidth:f()}),r.settings.pager||r.viewport.parent().css({margin:"0 auto 0px"}),r.children.css({"float":"horizontal"==r.settings.mode?"left":"none",listStyle:"none",position:"relative"}),r.children.css("width",g()),"horizontal"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginRight",r.settings.slideMargin),"vertical"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginBottom",r.settings.slideMargin),"fade"==r.settings.mode&&(r.children.css({position:"absolute",zIndex:0,display:"none"}),r.children.eq(r.settings.startSlide).css({zIndex:r.settings.slideZIndex,display:"block"})),r.controls.el=t('<div class="bx-controls" />'),r.settings.captions&&_(),r.active.last=r.settings.startSlide==v()-1,r.settings.video&&s.fitVids();var e=r.children.eq(r.settings.startSlide);"all"==r.settings.preloadImages&&(e=r.children),r.settings.ticker?r.settings.pager=!1:(r.settings.pager&&S(),r.settings.controls&&k(),r.settings.auto&&r.settings.autoControls&&C(),(r.settings.controls||r.settings.autoControls||r.settings.pager)&&r.viewport.after(r.controls.el)),d(e,u)},d=function(e,n){var i=e.find("img, iframe").length;if(0==i)return void n();var o=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++o==i&&n()}).each(function(){this.complete&&t(this).load()})})},u=function(){if(r.settings.infiniteLoop&&"fade"!=r.settings.mode&&!r.settings.ticker){var e="vertical"==r.settings.mode?r.settings.minSlides:r.settings.maxSlides,n=r.children.slice(0,e).clone().addClass("bx-clone"),i=r.children.slice(-e).clone().addClass("bx-clone");s.append(n).prepend(i)}r.loader.remove(),b(),"vertical"==r.settings.mode&&(r.settings.adaptiveHeight=!0),r.viewport.height(h()),s.redrawSlider(),r.settings.onSliderLoad(r.active.index),r.initialized=!0,r.settings.responsive&&t(window).bind("resize",L),r.settings.auto&&r.settings.autoStart&&I(),r.settings.ticker&&R(),r.settings.pager&&z(r.settings.startSlide),r.settings.controls&&D(),r.settings.touchEnabled&&!r.settings.ticker&&N()},h=function(){var e=0,n=t();if("vertical"==r.settings.mode||r.settings.adaptiveHeight)if(r.carousel){var o=1==r.settings.moveSlides?r.active.index:r.active.index*y();for(n=r.children.eq(o),i=1;i<=r.settings.maxSlides-1;i++)n=o+i>=r.children.length?n.add(r.children.eq(i-1)):n.add(r.children.eq(o+i))}else n=r.children.eq(r.active.index);else n=r.children;return"vertical"==r.settings.mode?(n.each(function(){e+=t(this).outerHeight()}),r.settings.slideMargin>0&&(e+=r.settings.slideMargin*(r.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),e},f=function(){var t="100%";return r.settings.slideWidth>0&&(t="horizontal"==r.settings.mode?r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin:r.settings.slideWidth),t},g=function(){var t=r.settings.slideWidth,e=r.viewport.width();return 0==r.settings.slideWidth||r.settings.slideWidth>e&&!r.carousel||"vertical"==r.settings.mode?t=e:r.settings.maxSlides>1&&"horizontal"==r.settings.mode&&(e>r.maxThreshold||e<r.minThreshold&&(t=(e-r.settings.slideMargin*(r.settings.minSlides-1))/r.settings.minSlides)),t},m=function(){var t=1;if("horizontal"==r.settings.mode&&r.settings.slideWidth>0)if(r.viewport.width()<r.minThreshold)t=r.settings.minSlides;else if(r.viewport.width()>r.maxThreshold)t=r.settings.maxSlides;else{var e=r.children.first().width();t=Math.floor(r.viewport.width()/e)}else"vertical"==r.settings.mode&&(t=r.settings.minSlides);return t},v=function(){var t=0;if(r.settings.moveSlides>0)if(r.settings.infiniteLoop)t=r.children.length/y();else for(var e=0,n=0;e<r.children.length;)++t,e=n+m(),n+=r.settings.moveSlides<=m()?r.settings.moveSlides:m();else t=Math.ceil(r.children.length/m());return t},y=function(){return r.settings.moveSlides>0&&r.settings.moveSlides<=m()?r.settings.moveSlides:m()},b=function(){if(r.children.length>r.settings.maxSlides&&r.active.last&&!r.settings.infiniteLoop){if("horizontal"==r.settings.mode){var t=r.children.last(),e=t.position();x(-(e.left-(r.viewport.width()-t.width())),"reset",0)}else if("vertical"==r.settings.mode){var n=r.children.length-r.settings.minSlides,e=r.children.eq(n).position();x(-e.top,"reset",0)}}else{var e=r.children.eq(r.active.index*y()).position();r.active.index==v()-1&&(r.active.last=!0),void 0!=e&&("horizontal"==r.settings.mode?x(-e.left,"reset",0):"vertical"==r.settings.mode&&x(-e.top,"reset",0))}},x=function(t,e,n,i){if(r.usingCSS){var o="vertical"==r.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";
s.css("-"+r.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"==e?(s.css(r.animProp,o),s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),M()})):"reset"==e?s.css(r.animProp,o):"ticker"==e&&(s.css("-"+r.cssPrefix+"-transition-timing-function","linear"),s.css(r.animProp,o),s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),x(i.resetValue,"reset",0),O()}))}else{var a={};a[r.animProp]=t,"slide"==e?s.animate(a,n,r.settings.easing,function(){M()}):"reset"==e?s.css(r.animProp,t):"ticker"==e&&s.animate(a,speed,"linear",function(){x(i.resetValue,"reset",0),O()})}},w=function(){for(var e="",n=v(),i=0;n>i;i++){var o="";r.settings.buildPager&&t.isFunction(r.settings.buildPager)?(o=r.settings.buildPager(i),r.pagerEl.addClass("bx-custom-pager")):(o=i+1,r.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+o+"</a></div>"}r.pagerEl.html(e)},S=function(){r.settings.pagerCustom?r.pagerEl=t(r.settings.pagerCustom):(r.pagerEl=t('<div class="bx-pager" />'),r.settings.pagerSelector?t(r.settings.pagerSelector).html(r.pagerEl):r.controls.el.addClass("bx-has-pager").append(r.pagerEl),w()),r.pagerEl.on("click","a",A)},k=function(){r.controls.next=t('<a class="bx-next" href="">'+r.settings.nextText+"</a>"),r.controls.prev=t('<a class="bx-prev" href="">'+r.settings.prevText+"</a>"),r.controls.next.bind("click",E),r.controls.prev.bind("click",$),r.settings.nextSelector&&t(r.settings.nextSelector).append(r.controls.next),r.settings.prevSelector&&t(r.settings.prevSelector).append(r.controls.prev),r.settings.nextSelector||r.settings.prevSelector||(r.controls.directionEl=t('<div class="bx-controls-direction" />'),r.controls.directionEl.append(r.controls.prev).append(r.controls.next),r.controls.el.addClass("bx-has-controls-direction").append(r.controls.directionEl))},C=function(){r.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+r.settings.startText+"</a></div>"),r.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+r.settings.stopText+"</a></div>"),r.controls.autoEl=t('<div class="bx-controls-auto" />'),r.controls.autoEl.on("click",".bx-start",T),r.controls.autoEl.on("click",".bx-stop",P),r.settings.autoControlsCombine?r.controls.autoEl.append(r.controls.start):r.controls.autoEl.append(r.controls.start).append(r.controls.stop),r.settings.autoControlsSelector?t(r.settings.autoControlsSelector).html(r.controls.autoEl):r.controls.el.addClass("bx-has-controls-auto").append(r.controls.autoEl),B(r.settings.autoStart?"stop":"start")},_=function(){r.children.each(function(){var e=t(this).find("img:first").attr("title");void 0!=e&&(""+e).length&&t(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},E=function(t){r.settings.auto&&s.stopAuto(),s.goToNextSlide(),t.preventDefault()},$=function(t){r.settings.auto&&s.stopAuto(),s.goToPrevSlide(),t.preventDefault()},T=function(t){s.startAuto(),t.preventDefault()},P=function(t){s.stopAuto(),t.preventDefault()},A=function(e){r.settings.auto&&s.stopAuto();var n=t(e.currentTarget),i=parseInt(n.attr("data-slide-index"));i!=r.active.index&&s.goToSlide(i),e.preventDefault()},z=function(e){var n=r.children.length;return"short"==r.settings.pagerType?(r.settings.maxSlides>1&&(n=Math.ceil(r.children.length/r.settings.maxSlides)),void r.pagerEl.html(e+1+r.settings.pagerShortSeparator+n)):(r.pagerEl.find("a").removeClass("active"),void r.pagerEl.each(function(n,i){t(i).find("a").eq(e).addClass("active")}))},M=function(){if(r.settings.infiniteLoop){var t="";0==r.active.index?t=r.children.eq(0).position():r.active.index==v()-1&&r.carousel?t=r.children.eq((v()-1)*y()).position():r.active.index==r.children.length-1&&(t=r.children.eq(r.children.length-1).position()),t&&("horizontal"==r.settings.mode?x(-t.left,"reset",0):"vertical"==r.settings.mode&&x(-t.top,"reset",0))}r.working=!1,r.settings.onSlideAfter(r.children.eq(r.active.index),r.oldIndex,r.active.index)},B=function(t){r.settings.autoControlsCombine?r.controls.autoEl.html(r.controls[t]):(r.controls.autoEl.find("a").removeClass("active"),r.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},D=function(){1==v()?(r.controls.prev.addClass("disabled"),r.controls.next.addClass("disabled")):!r.settings.infiniteLoop&&r.settings.hideControlOnEnd&&(0==r.active.index?(r.controls.prev.addClass("disabled"),r.controls.next.removeClass("disabled")):r.active.index==v()-1?(r.controls.next.addClass("disabled"),r.controls.prev.removeClass("disabled")):(r.controls.prev.removeClass("disabled"),r.controls.next.removeClass("disabled")))},I=function(){r.settings.autoDelay>0?setTimeout(s.startAuto,r.settings.autoDelay):s.startAuto(),r.settings.autoHover&&s.hover(function(){r.interval&&(s.stopAuto(!0),r.autoPaused=!0)},function(){r.autoPaused&&(s.startAuto(!0),r.autoPaused=null)})},R=function(){var e=0;if("next"==r.settings.autoDirection)s.append(r.children.clone().addClass("bx-clone"));else{s.prepend(r.children.clone().addClass("bx-clone"));var n=r.children.first().position();e="horizontal"==r.settings.mode?-n.left:-n.top}x(e,"reset",0),r.settings.pager=!1,r.settings.controls=!1,r.settings.autoControls=!1,r.settings.tickerHover&&!r.usingCSS&&r.viewport.hover(function(){s.stop()},function(){var e=0;r.children.each(function(){e+="horizontal"==r.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var n=r.settings.speed/e,i="horizontal"==r.settings.mode?"left":"top",o=n*(e-Math.abs(parseInt(s.css(i))));O(o)}),O()},O=function(t){speed=t?t:r.settings.speed;var e={left:0,top:0},n={left:0,top:0};"next"==r.settings.autoDirection?e=s.find(".bx-clone").first().position():n=r.children.first().position();var i="horizontal"==r.settings.mode?-e.left:-e.top,o="horizontal"==r.settings.mode?-n.left:-n.top,a={resetValue:o};x(i,"ticker",speed,a)},N=function(){r.touch={start:{x:0,y:0},end:{x:0,y:0}},r.viewport.bind("touchstart",j)},j=function(t){if(r.working)t.preventDefault();else{r.touch.originalPos=s.position();var e=t.originalEvent;r.touch.start.x=e.changedTouches[0].pageX,r.touch.start.y=e.changedTouches[0].pageY,r.viewport.bind("touchmove",q),r.viewport.bind("touchend",U)}},q=function(t){var e=t.originalEvent,n=Math.abs(e.changedTouches[0].pageX-r.touch.start.x),i=Math.abs(e.changedTouches[0].pageY-r.touch.start.y);if(3*n>i&&r.settings.preventDefaultSwipeX?t.preventDefault():3*i>n&&r.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=r.settings.mode&&r.settings.oneToOneTouch){var o=0;if("horizontal"==r.settings.mode){var s=e.changedTouches[0].pageX-r.touch.start.x;o=r.touch.originalPos.left+s}else{var s=e.changedTouches[0].pageY-r.touch.start.y;o=r.touch.originalPos.top+s}x(o,"reset",0)}},U=function(t){r.viewport.unbind("touchmove",q);var e=t.originalEvent,n=0;if(r.touch.end.x=e.changedTouches[0].pageX,r.touch.end.y=e.changedTouches[0].pageY,"fade"==r.settings.mode){var i=Math.abs(r.touch.start.x-r.touch.end.x);i>=r.settings.swipeThreshold&&(r.touch.start.x>r.touch.end.x?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto())}else{var i=0;"horizontal"==r.settings.mode?(i=r.touch.end.x-r.touch.start.x,n=r.touch.originalPos.left):(i=r.touch.end.y-r.touch.start.y,n=r.touch.originalPos.top),!r.settings.infiniteLoop&&(0==r.active.index&&i>0||r.active.last&&0>i)?x(n,"reset",200):Math.abs(i)>=r.settings.swipeThreshold?(0>i?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto()):x(n,"reset",200)}r.viewport.unbind("touchend",U)},L=function(){var e=t(window).width(),n=t(window).height();(a!=e||c!=n)&&(a=e,c=n,s.redrawSlider(),r.settings.onSliderResize.call(s,r.active.index))};return s.goToSlide=function(e,n){if(!r.working&&r.active.index!=e)if(r.working=!0,r.oldIndex=r.active.index,r.active.index=0>e?v()-1:e>=v()?0:e,r.settings.onSlideBefore(r.children.eq(r.active.index),r.oldIndex,r.active.index),"next"==n?r.settings.onSlideNext(r.children.eq(r.active.index),r.oldIndex,r.active.index):"prev"==n&&r.settings.onSlidePrev(r.children.eq(r.active.index),r.oldIndex,r.active.index),r.active.last=r.active.index>=v()-1,r.settings.pager&&z(r.active.index),r.settings.controls&&D(),"fade"==r.settings.mode)r.settings.adaptiveHeight&&r.viewport.height()!=h()&&r.viewport.animate({height:h()},r.settings.adaptiveHeightSpeed),r.children.filter(":visible").fadeOut(r.settings.speed).css({zIndex:0}),r.children.eq(r.active.index).css("zIndex",r.settings.slideZIndex+1).fadeIn(r.settings.speed,function(){t(this).css("zIndex",r.settings.slideZIndex),M()});else{r.settings.adaptiveHeight&&r.viewport.height()!=h()&&r.viewport.animate({height:h()},r.settings.adaptiveHeightSpeed);var i=0,o={left:0,top:0};if(!r.settings.infiniteLoop&&r.carousel&&r.active.last)if("horizontal"==r.settings.mode){var a=r.children.eq(r.children.length-1);o=a.position(),i=r.viewport.width()-a.outerWidth()}else{var c=r.children.length-r.settings.minSlides;o=r.children.eq(c).position()}else if(r.carousel&&r.active.last&&"prev"==n){var l=1==r.settings.moveSlides?r.settings.maxSlides-y():(v()-1)*y()-(r.children.length-r.settings.maxSlides),a=s.children(".bx-clone").eq(l);o=a.position()}else if("next"==n&&0==r.active.index)o=s.find("> .bx-clone").eq(r.settings.maxSlides).position(),r.active.last=!1;else if(e>=0){var p=e*y();o=r.children.eq(p).position()}if("undefined"!=typeof o){var d="horizontal"==r.settings.mode?-(o.left-i):-o.top;x(d,"slide",r.settings.speed)}}},s.goToNextSlide=function(){if(r.settings.infiniteLoop||!r.active.last){var t=parseInt(r.active.index)+1;s.goToSlide(t,"next")}},s.goToPrevSlide=function(){if(r.settings.infiniteLoop||0!=r.active.index){var t=parseInt(r.active.index)-1;s.goToSlide(t,"prev")}},s.startAuto=function(t){r.interval||(r.interval=setInterval(function(){"next"==r.settings.autoDirection?s.goToNextSlide():s.goToPrevSlide()},r.settings.pause),r.settings.autoControls&&1!=t&&B("stop"))},s.stopAuto=function(t){r.interval&&(clearInterval(r.interval),r.interval=null,r.settings.autoControls&&1!=t&&B("start"))},s.getCurrentSlide=function(){return r.active.index},s.getCurrentSlideElement=function(){return r.children.eq(r.active.index)},s.getSlideCount=function(){return r.children.length},s.redrawSlider=function(){r.children.add(s.find(".bx-clone")).outerWidth(g()),r.viewport.css("height",h()),r.settings.ticker||b(),r.active.last&&(r.active.index=v()-1),r.active.index>=v()&&(r.active.last=!0),r.settings.pager&&!r.settings.pagerCustom&&(w(),z(r.active.index))},s.destroySlider=function(){r.initialized&&(r.initialized=!1,t(".bx-clone",this).remove(),r.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),r.controls.el&&r.controls.el.remove(),r.controls.next&&r.controls.next.remove(),r.controls.prev&&r.controls.prev.remove(),r.pagerEl&&r.settings.controls&&r.pagerEl.remove(),t(".bx-caption",this).remove(),r.controls.autoEl&&r.controls.autoEl.remove(),clearInterval(r.interval),r.settings.responsive&&t(window).unbind("resize",L))},s.reloadSlider=function(t){void 0!=t&&(o=t),s.destroySlider(),l()},l(),this}}(jQuery),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.io=t()}}(function(){var t;return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n?n:e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=o(t),r=i.source,l=i.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(a("ignoring socket cache for %s",r),n=s(r,e)):(c[l]||(a("new io instance for %s",r),c[l]=s(r,e)),n=c[l]),n.socket(i.path)}var o=t("./url"),r=t("socket.io-parser"),s=t("./manager"),a=t("debug")("socket.io-client");e.exports=n=i;var c=n.managers={};n.protocol=r.protocol,n.connect=i,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":46}],3:[function(t,e,n){function i(t,e){return this instanceof i?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(t,e)}var o=(t("./url"),t("engine.io-client")),r=t("./socket"),s=t("component-emitter"),a=t("socket.io-parser"),c=t("./on"),l=t("component-bind"),p=(t("object-component"),t("debug")("socket.io-client:manager")),d=t("indexof"),u=t("backo2");e.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},i.prototype.updateSocketIds=function(){for(var t in this.nsps)this.nsps[t].id=this.engine.id},s(i.prototype),i.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},i.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},i.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(t){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=o(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=c(e,"open",function(){n.onopen(),t&&t()}),r=c(e,"error",function(e){if(p("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var i=new Error("Connection error");i.data=e,t(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;p("connect attempt will timeout after %d",s);var a=setTimeout(function(){p("connect attempt timed out after %d",s),i.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(r),this},i.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",l(this,"ondata"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded"))),this.subs.push(c(t,"error",l(this,"onerror"))),this.subs.push(c(t,"close",l(this,"onclose")))},i.prototype.ondata=function(t){this.decoder.add(t)},i.prototype.ondecoded=function(t){this.emit("packet",t)},i.prototype.onerror=function(t){p("error",t),this.emitAll("error",t)},i.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new r(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){e.id=n.engine.id,~d(n.connected,e)||n.connected.push(e)})}return e},i.prototype.destroy=function(t){var e=d(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},i.prototype.packet=function(t){p("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},i.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(t){p("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();p("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(p("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(p("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(p("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:42,"object-component":43,"socket.io-parser":46}],4:[function(t,e,n){function i(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=i},{}],5:[function(t,e,n){function i(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=t("socket.io-parser"),r=t("component-emitter"),s=t("to-array"),a=t("./on"),c=t("component-bind"),l=t("debug")("socket.io-client:socket"),p=t("has-binary");e.exports=n=i;var d={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},u=r.prototype.emit;r(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",c(this,"onopen")),a(t,"packet",c(this,"onpacket")),a(t,"close",c(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},i.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},i.prototype.emit=function(t){if(d.hasOwnProperty(t))return u.apply(this,arguments),this;var e=s(arguments),n=o.EVENT;p(e)&&(n=o.BINARY_EVENT);var i={type:n,data:e};return"function"==typeof e[e.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},i.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},i.prototype.onopen=function(){l("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},i.prototype.onclose=function(t){l("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},i.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(t);break;case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:this.onack(t);break;case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},i.prototype.onevent=function(t){var e=t.data||[];l("emitting event %j",e),null!=t.id&&(l("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?u.apply(this,e):this.receiveBuffer.push(e)},i.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);l("sending ack %j",i);var r=p(i)?o.BINARY_ACK:o.ACK;e.packet({type:r,id:t,data:i})}}},i.prototype.onack=function(t){l("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)u.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":38,"socket.io-parser":46,"to-array":50}],6:[function(t,e,n){(function(n){function i(t,e){var i=t,e=e||n.location;return null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.hostname+t),/^(https?|wss?):\/\//.test(t)||(r("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),r("parse %s",t),i=o(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",i.id=i.protocol+"://"+i.host+":"+i.port,i.href=i.protocol+"://"+i.host+(e&&e.port==i.port?"":":"+i.port),i}var o=t("parseuri"),r=t("debug")("socket.io-client:url");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:44}],7:[function(t,e,n){function i(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=i,i.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(t){this.ms=t},i.prototype.setMax=function(t){this.max=t},i.prototype.setJitter=function(t){this.jitter=t}},{}],8:[function(t,e,n){var i=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}},{}],9:[function(t,e,n){function i(t){return t?o(t):void 0}function o(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===e||i.fn===e){n.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var i=0,o=n.length;o>i;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],10:[function(t,e,n){function i(t){return i.enabled(t)?function(e){e=o(e);var n=new Date,r=n-(i[t]||n);i[t]=n,e=t+" "+e+" +"+i.humanize(r),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(t){return t instanceof Error?t.stack||t.message:t}e.exports=i,i.names=[],i.skips=[],i.enable=function(t){try{localStorage.debug=t}catch(e){}for(var n=(t||"").split(/[\s,]+/),o=n.length,r=0;o>r;r++)t=n[r].replace("*",".*?"),"-"===t[0]?i.skips.push(new RegExp("^"+t.substr(1)+"$")):i.names.push(new RegExp("^"+t+"$"))},i.disable=function(){i.enable("")},i.humanize=function(t){var e=1e3,n=6e4,i=60*n;return t>=i?(t/i).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},i.enabled=function(t){for(var e=0,n=i.skips.length;n>e;e++)if(i.skips[e].test(t))return!1;for(var e=0,n=i.names.length;n>e;e++)if(i.names[e].test(t))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(r){}},{}],11:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":12}],12:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(t,e,n){(function(n){function i(t,e){if(!(this instanceof i))return new i(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=p(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.host){var o=e.host.split(":");e.hostname=o.shift(),o.length?e.port=o.pop():e.port||(e.port=this.secure?"443":"80")}this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=e.rejectUnauthorized||null,this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var r=t("./transports"),s=t("component-emitter"),a=t("debug")("engine.io-client:socket"),c=t("indexof"),l=t("engine.io-parser"),p=t("parseuri"),d=t("parsejson"),u=t("parseqs");e.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=l.protocol,i.Socket=i,i.Transport=t("./transport"),i.transports=t("./transports"),i.parser=t("engine.io-parser"),i.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=o(this.query);e.EIO=l.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new r[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},i.prototype.open=function(){var t;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},i.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},i.prototype.probe=function(t){function e(){if(u.onlyBinaryUpgrades){var e=!this.supportsBinary&&u.transport.supportsBinary;d=d||e}d||(a('probe transport "%s" opened',t),p.send([{type:"ping",data:"probe"}]),p.once("packet",function(e){if(!d)if("pong"==e.type&&"probe"==e.data){if(a('probe transport "%s" pong',t),u.upgrading=!0,u.emit("upgrading",p),!p)return;i.priorWebsocketSuccess="websocket"==p.name,a('pausing current transport "%s"',u.transport.name),u.transport.pause(function(){d||"closed"!=u.readyState&&(a("changing transport and sending upgrade packet"),l(),u.setTransport(p),p.send([{type:"upgrade"}]),u.emit("upgrade",p),p=null,u.upgrading=!1,u.flush())})}else{a('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=p.name,u.emit("upgradeError",n)}}))}function n(){d||(d=!0,l(),p.close(),p=null)}function o(e){var i=new Error("probe error: "+e);i.transport=p.name,n(),a('probe transport "%s" failed because of error: %s',t,e),u.emit("upgradeError",i)}function r(){o("transport closed")}function s(){o("socket closed")}function c(t){p&&t.name!=p.name&&(a('"%s" works - aborting "%s"',t.name,p.name),n())}function l(){p.removeListener("open",e),p.removeListener("error",o),p.removeListener("close",r),u.removeListener("close",s),u.removeListener("upgrading",c)}a('probing transport "%s"',t);var p=this.createTransport(t,{probe:1}),d=!1,u=this;i.priorWebsocketSuccess=!1,p.once("open",e),p.once("error",o),p.once("close",r),this.once("close",s),this.once("upgrading",c),p.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},i.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(d(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,
this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},i.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},i.prototype.ping=function(){this.sendPacket("ping")},i.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},i.prototype.sendPacket=function(t,e,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var i={type:t,data:e};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(n),this.flush()}},i.prototype.close=function(){function t(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function e(){i.removeListener("upgrade",e),i.removeListener("upgradeError",e),t()}function n(){i.once("upgrade",e),i.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},i.prototype.onError=function(t){a("socket error %j",t),i.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},i.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},i.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;i>n;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:42,parsejson:34,parseqs:35,parseuri:36}],14:[function(t,e,n){function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized}var o=t("engine.io-parser"),r=t("component-emitter");e.exports=i,r(i.prototype),i.timestamps=0,i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(t,e,n){(function(e){function i(t){var n,i=!1,a=!1,c=!1!==t.jsonp;if(e.location){var l="https:"==location.protocol,p=location.port;p||(p=l?443:80),i=t.hostname!=location.hostname||p!=t.port,a=t.secure!=l}if(t.xdomain=i,t.xscheme=a,n=new o(t),"open"in n&&!t.forceJSONP)return new r(t);if(!c)throw new Error("JSONP disabled");return new s(t)}var o=t("xmlhttprequest"),r=t("./polling-xhr"),s=t("./polling-jsonp"),a=t("./websocket");n.polling=i,n.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(t,e,n){(function(n){function i(){}function o(t){r.call(this,t),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var e=this;a.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=i)},!1)}var r=t("./polling"),s=t("component-inherit");e.exports=o;var a,c=/\n/g,l=/\\n/g;s(o,r),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){i(),e()}function i(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';r=document.createElement(e)}catch(t){r=document.createElement("iframe"),r.name=o.iframeId,r.src="javascript:0"}r.id=o.iframeId,o.form.appendChild(r),o.iframe=r}var o=this;if(!this.form){var r,s=document.createElement("form"),a=document.createElement("textarea"),p=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=p,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),i(),t=t.replace(l,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(t,e,n){(function(n){function i(){}function o(t){if(c.call(this,t),n.location){var e="https:"==location.protocol,i=location.port;i||(i=e?443:80),this.xd=t.hostname!=n.location.hostname||i!=t.port,this.xs=t.secure!=e}}function r(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.create()}function s(){for(var t in r.requests)r.requests.hasOwnProperty(t)&&r.requests[t].abort()}var a=t("xmlhttprequest"),c=t("./polling"),l=t("component-emitter"),p=t("component-inherit"),d=t("debug")("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=r,p(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,new r(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),o=this;i.on("success",e),i.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=i},o.prototype.doPoll=function(){d("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},l(r.prototype),r.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),i=this;try{if(d("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){i.onLoad()},e.onerror=function(){i.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?i.onLoad():setTimeout(function(){i.onError(e.status)},0))},d("xhr data %s",this.data),e.send(this.data)}catch(o){return void setTimeout(function(){i.onError(o)},0)}n.document&&(this.index=r.requestsCount++,r.requests[this.index]=this)},r.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},r.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},r.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},r.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,t)try{this.xhr.abort()}catch(e){}n.document&&delete r.requests[this.index],this.xhr=null}},r.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},r.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},r.prototype.abort=function(){this.cleanup()},n.document&&(r.requestsCount=0,r.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(t,e,n){function i(t){var e=t&&t.forceBase64;(!l||e)&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),r=t("parseqs"),s=t("engine.io-parser"),a=t("component-inherit"),c=t("debug")("engine.io-client:polling");e.exports=i;var l=function(){var e=t("xmlhttprequest"),n=new e({xdomain:!1});return null!=n.responseType}();a(i,o),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(t){function e(){c("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||e()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||e()}))}else e()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(t){var e=this;c("polling got data %s",t);var n=function(t,n,i){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function t(){c("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},i.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:35,xmlhttprequest:20}],19:[function(t,e,n){function i(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),r=t("engine.io-parser"),s=t("parseqs"),a=t("component-inherit"),c=t("debug")("engine.io-client:websocket"),l=t("ws");e.exports=i,a(i,o),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new l(t,e,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),i.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var i=0,o=t.length;o>i;i++)r.encodePacket(t[i],this.supportsBinary,function(t){try{n.ws.send(t)}catch(e){c("websocket closed before onclose event")}});setTimeout(e,0)},i.prototype.onClose=function(){o.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},i.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===i.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:35,ws:37}],20:[function(t,e,n){var i=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(r){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(r){}}},{"has-cors":40}],21:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],22:[function(t,e,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var i="color: "+this.color;t=[t[0],i,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,r=0;return t[0].replace(/%[a-z%]/g,function(t){"%"!==t&&(o++,"%c"===t&&(r=o))}),t.splice(r,0,i),t}function r(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?localStorage.removeItem("debug"):localStorage.debug=t}catch(e){}}function a(){var t;try{t=localStorage.debug}catch(e){}return t}n=e.exports=t("./debug"),n.log=r,n.formatArgs=o,n.save=s,n.load=a,n.useColors=i,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(a())},{"./debug":23}],23:[function(t,e,n){function i(){return n.colors[p++%n.colors.length]}function o(t){function e(){}function o(){var t=o,e=+new Date,r=e-(l||e);t.diff=r,t.prev=l,t.curr=e,l=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=i());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(e,i){if("%"===e)return e;a++;var o=n.formatters[i];if("function"==typeof o){var r=s[a];e=o.call(t,r),s.splice(a,1),a--}return e}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(t,s));var c=o.log||n.log||console.log.bind(console);c.apply(t,s)}e.enabled=!1,o.enabled=!0;var r=n.enabled(t)?o:e;return r.namespace=t,r}function r(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),i=e.length,o=0;i>o;o++)e[o]&&(t=e[o].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function a(t){var e,i;for(e=0,i=n.skips.length;i>e;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;i>e;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=o,n.coerce=c,n.disable=s,n.enable=r,n.enabled=a,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var l,p=0},{ms:24}],24:[function(t,e,n){function i(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return n*d;case"days":case"day":case"d":return n*p;case"hours":case"hour":case"h":return n*l;case"minutes":case"minute":case"m":return n*c;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function o(t){return t>=p?Math.round(t/p)+"d":t>=l?Math.round(t/l)+"h":t>=c?Math.round(t/c)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function r(t){return s(t,p,"day")||s(t,l,"hour")||s(t,c,"minute")||s(t,a,"second")||t+" ms"}function s(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,c=60*a,l=60*c,p=24*l,d=365.25*p;e.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e["long"]?r(t):o(t)}},{}],25:[function(t,e,n){(function(e){function i(t,e){var i="b"+n.packets[t.type]+t.data.data;return e(i)}function o(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var o=t.data,r=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<r.length;a++)s[a+1]=r[a];return i(s.buffer)}function r(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var o=new FileReader;return o.onload=function(){t.data=o.result,n.encodePacket(t,e,!0,i)},o.readAsArrayBuffer(t.data)}function s(t,e,i){if(!e)return n.encodeBase64Packet(t,i);if(m)return r(t,e,i);var o=new Uint8Array(1);o[0]=v[t.type];var s=new x([o.buffer,t.data]);return i(s)}function a(t,e,n){for(var i=new Array(t.length),o=u(t.length,n),r=function(t,n,o){e(n,function(e,n){i[t]=n,o(e,i)})},s=0;s<t.length;s++)r(s,t[s],o)}var c=t("./keys"),l=t("has-binary"),p=t("arraybuffer.slice"),d=t("base64-arraybuffer"),u=t("after"),h=t("utf8"),f=navigator.userAgent.match(/Android/i),g=/PhantomJS/i.test(navigator.userAgent),m=f||g;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=c(v),b={type:"error",data:"parser error"},x=t("blob");n.encodePacket=function(t,n,r,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof r&&(a=r,r=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return o(t,n,a);if(x&&c instanceof e.Blob)return s(t,n,a);if(c&&c.base64)return i(t,a);var l=v[t.type];return void 0!==t.data&&(l+=r?h.encode(String(t.data)):String(t.data)),a(""+l)},n.encodeBase64Packet=function(t,i){var o="b"+n.packets[t.type];if(x&&t.data instanceof x){var r=new FileReader;return r.onload=function(){var t=r.result.split(",")[1];i(o+t)},r.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(a){for(var c=new Uint8Array(t.data),l=new Array(c.length),p=0;p<c.length;p++)l[p]=c[p];s=String.fromCharCode.apply(null,l)}return o+=e.btoa(s),i(o)},n.decodePacket=function(t,e,i){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(i)try{t=h.decode(t)}catch(o){return b}var r=t.charAt(0);return Number(r)==r&&y[r]?t.length>1?{type:y[r],data:t.substring(1)}:{type:y[r]}:b}var s=new Uint8Array(t),r=s[0],a=p(t,1);return x&&"blob"===e&&(a=new x([a])),{type:y[r],data:a}},n.decodeBase64Packet=function(t,n){var i=y[t.charAt(0)];if(!e.ArrayBuffer)return{type:i,data:{base64:!0,data:t.substr(1)}};var o=d.decode(t.substr(1));return"blob"===n&&x&&(o=new x([o])),{type:i,data:o}},n.encodePayload=function(t,e,i){function o(t){return t.length+":"+t}function r(t,i){n.encodePacket(t,s?e:!1,!0,function(t){i(null,o(t))})}"function"==typeof e&&(i=e,e=null);var s=l(t);return e&&s?x&&!m?n.encodePayloadAsBlob(t,i):n.encodePayloadAsArrayBuffer(t,i):t.length?void a(t,r,function(t,e){return i(e.join(""))}):i("0:")},n.decodePayload=function(t,e,i){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,i);"function"==typeof e&&(i=e,e=null);var o;if(""==t)return i(b,0,1);for(var r,s,a="",c=0,l=t.length;l>c;c++){var p=t.charAt(c);if(":"!=p)a+=p;else{if(""==a||a!=(r=Number(a)))return i(b,0,1);if(s=t.substr(c+1,r),a!=s.length)return i(b,0,1);if(s.length){if(o=n.decodePacket(s,e,!0),b.type==o.type&&b.data==o.data)return i(b,0,1);var d=i(o,c+r,l);if(!1===d)return}c+=r,a=""}}return""!=a?i(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void a(t,i,function(t,n){var i=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(i),r=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);n=i.buffer}e?o[r++]=0:o[r++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[r++]=parseInt(a[s]);o[r++]=255;for(var i=new Uint8Array(n),s=0;s<i.length;s++)o[r++]=i[s]}),e(o.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);t=i.buffer,n[0]=0}for(var r=t instanceof ArrayBuffer?t.byteLength:t.size,s=r.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,x){var c=new x([n.buffer,a.buffer,t]);e(null,c)}})}a(t,i,function(t,n){return e(new x(n))})},n.decodePayloadAsBinary=function(t,e,i){"function"==typeof e&&(i=e,e=null);for(var o=t,r=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],l="",d=1;255!=a[d];d++){if(l.length>310){s=!0;break}l+=a[d]}if(s)return i(b,0,1);o=p(o,2+l.length),l=parseInt(l);var u=p(o,0,l);if(c)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(h){var f=new Uint8Array(u);u="";for(var d=0;d<f.length;d++)u+=String.fromCharCode(f[d])}r.push(u),o=p(o,l)}var g=r.length;r.forEach(function(t,o){i(n.decodePacket(t,e,!0),o,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":31,utf8:33}],26:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},{}],27:[function(t,e,n){function i(t,e,n){function i(t,o){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(r=!0,e(t),e=n):0!==i.count||r||e(null,o)}var r=!1;return n=n||o,i.count=t,0===t?e():i}function o(){}e.exports=i},{}],28:[function(t,e,n){e.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(0>e&&(e+=i),0>n&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(t),r=new Uint8Array(n-e),s=e,a=0;n>s;s++,a++)r[a]=o[s];return r.buffer}},{}],29:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,i=new Uint8Array(e),o=i.length,r="";for(n=0;o>n;n+=3)r+=t[i[n]>>2],r+=t[(3&i[n])<<4|i[n+1]>>4],r+=t[(15&i[n+1])<<2|i[n+2]>>6],r+=t[63&i[n+2]];return o%3===2?r=r.substring(0,r.length-1)+"=":o%3===1&&(r=r.substring(0,r.length-2)+"=="),r},n.decode=function(e){var n,i,o,r,s,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var p=new ArrayBuffer(a),d=new Uint8Array(p);for(n=0;c>n;n+=4)i=t.indexOf(e[n]),o=t.indexOf(e[n+1]),r=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),d[l++]=i<<2|o>>4,d[l++]=(15&o)<<4|r>>2,d[l++]=(3&r)<<6|63&s;return p}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(t,e,n){(function(t){function n(t,e){e=e||{};for(var n=new i,o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,o=function(){try{var t=new Blob(["hi"]);return 2==t.size}catch(e){return!1}}(),r=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return o?t.Blob:r?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(t,e,n){(function(n){function i(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:32}],32:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],33:[function(e,n,i){(function(e){!function(o){function r(t){for(var e,n,i=[],o=0,r=t.length;r>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&r>o?(n=t.charCodeAt(o++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--)):i.push(e);return i}function s(t){for(var e,n=t.length,i=-1,o="";++i<n;)e=t[i],e>65535&&(e-=65536,o+=b(e>>>10&1023|55296),e=56320|1023&e),o+=b(e);return o}function a(t,e){return b(t>>e&63|128)}function c(t){if(0==(4294967168&t))return b(t);var e="";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(e=b(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+=b(63&t|128)}function l(t){for(var e,n=r(t),i=n.length,o=-1,s="";++o<i;)e=n[o],s+=c(e);return s}function p(){if(y>=v)throw Error("Invalid byte index");var t=255&m[y];if(y++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function d(){var t,e,n,i,o;if(y>v)throw Error("Invalid byte index");if(y==v)return!1;if(t=255&m[y],y++,0==(128&t))return t;if(192==(224&t)){var e=p();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=p(),n=p(),o=(15&t)<<12|e<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=p(),n=p(),i=p(),o=(15&t)<<18|e<<12|n<<6|i,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function u(t){m=r(t),v=m.length,y=0;for(var e,n=[];(e=d())!==!1;)n.push(e);return s(n)}var h="object"==typeof i&&i,f="object"==typeof n&&n&&n.exports==h&&n,g="object"==typeof e&&e;(g.global===g||g.window===g)&&(o=g);var m,v,y,b=String.fromCharCode,x={version:"2.0.0",encode:l,decode:u};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return x});else if(h&&!h.nodeType)if(f)f.exports=x;else{var w={},S=w.hasOwnProperty;for(var k in x)S.call(x,k)&&(h[k]=x[k])}else o.utf8=x}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,"@").replace(o,"]").replace(r,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),i=0,o=n.length;o>i;i++){var r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}},{}],36:[function(t,e,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var s=i.exec(t||""),a={},c=14;c--;)a[o[c]]=s[c]||"";return-1!=n&&-1!=r&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],37:[function(t,e,n){function i(t,e,n){var i;return i=e?new r(t,e):new r(t)}var o=function(){return this}(),r=o.WebSocket||o.MozWebSocket;e.exports=r?i:null,r&&(i.prototype=r.prototype)},{}],38:[function(t,e,n){(function(n){function i(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:39}],39:[function(t,e,n){e.exports=t(32)},{}],40:[function(t,e,n){var i=t("global");try{e.exports="XMLHttpRequest"in i&&"withCredentials"in new i.XMLHttpRequest}catch(o){e.exports=!1}},{global:41}],41:[function(t,e,n){e.exports=function(){return this}()},{}],42:[function(t,e,n){var i=[].indexOf;e.exports=function(t,e){if(i)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],43:[function(t,e,n){var i=Object.prototype.hasOwnProperty;
n.keys=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],44:[function(t,e,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=i.exec(t||""),n={},r=14;r--;)n[o[r]]=e[r]||"";return n}},{}],45:[function(t,e,n){(function(e){var i=t("isarray"),o=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(i(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var n=[],r=t.data,s=t;return s.data=e(r),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var o=e[t.num];return o}if(i(t)){for(var r=0;r<t.length;r++)t[r]=n(t[r]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=n(t[s]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function r(t,c,l){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){s++;var p=new FileReader;p.onload=function(){l?l[c]=this.result:a=this.result,--s||n(a)},p.readAsArrayBuffer(t)}else if(i(t))for(var d=0;d<t.length;d++)r(t[d],d,t);else if(t&&"object"==typeof t&&!o(t))for(var u in t)r(t[u],u,t)}var s=0,a=t;r(a),s||n(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":47,isarray:48}],46:[function(t,e,n){function i(){}function o(t){var e="",i=!1;return e+=t.type,(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(i=!0,e+=t.nsp),null!=t.id&&(i&&(e+=",",i=!1),e+=t.id),null!=t.data&&(i&&(e+=","),e+=d.stringify(t.data)),p("encoded %j as %s",t,e),e}function r(t,e){function n(t){var n=h.deconstructPacket(t),i=o(n.packet),r=n.buffers;r.unshift(i),e(r)}h.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var e={},i=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return l();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var o="";"-"!=t.charAt(++i)&&(o+=t.charAt(i),i+1!=t.length););if(o!=Number(o)||"-"!=t.charAt(i))throw new Error("Illegal attachments");e.attachments=Number(o)}if("/"==t.charAt(i+1))for(e.nsp="";++i;){var r=t.charAt(i);if(","==r)break;if(e.nsp+=r,i+1==t.length)break}else e.nsp="/";var s=t.charAt(i+1);if(""!==s&&Number(s)==s){for(e.id="";++i;){var r=t.charAt(i);if(null==r||Number(r)!=r){--i;break}if(e.id+=t.charAt(i),i+1==t.length)break}e.id=Number(e.id)}if(t.charAt(++i))try{e.data=d.parse(t.substr(i))}catch(a){return l()}return p("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function l(t){return{type:n.ERROR,data:"parser error"}}var p=t("debug")("socket.io-parser"),d=t("json3"),u=(t("isarray"),t("component-emitter")),h=t("./binary"),f=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=s,i.prototype.encode=function(t,e){if(p("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)r(t,e);else{var i=o(t);e([i])}},u(s.prototype),s.prototype.add=function(t){var e;if("string"==typeof t)e=a(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new c(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!f(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":45,"./is-buffer":47,"component-emitter":9,debug:10,isarray:48,json3:49}],47:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,e,n){e.exports=t(32)},{}],49:[function(e,n,i){!function(e){function n(t){if(n[t]!==s)return n[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=n("json-stringify")&&n("json-parse");else{var i,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var r=p.stringify,c="function"==typeof r&&d;if(c){(i=function(){return 1}).toJSON=i;try{c="0"===r(0)&&"0"===r(new Number)&&'""'==r(new String)&&r(a)===s&&r(s)===s&&r()===s&&"1"===r(i)&&"[1]"==r([i])&&"[null]"==r([s])&&"null"==r(null)&&"[null,null,null]"==r([s,a,null])&&r({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===r(null,i)&&"[\n 1,\n 2\n]"==r([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==r(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new Date(-1))}catch(l){c=!1}}e=c}if("json-parse"==t){var u=p.parse;if("function"==typeof u)try{if(0===u("0")&&!u(!1)){i=u(o);var h=5==i.a.length&&1===i.a[0];if(h){try{h=!u('"	"')}catch(l){}if(h)try{h=1!==u("01")}catch(l){}if(h)try{h=1!==u("1.")}catch(l){}}}}catch(l){h=!1}e=h}}return n[t]=!!e}var o,r,s,a={}.toString,c="function"==typeof t&&t.amd,l="object"==typeof JSON&&JSON,p="object"==typeof i&&i&&!i.nodeType&&i;p&&l?(p.stringify=l.stringify,p.parse=l.parse):p=e.JSON=l||{};var d=new Date(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(u){}if(!n("json")){var h="[object Function]",f="[object Date]",g="[object Number]",m="[object String]",v="[object Array]",y="[object Boolean]",b=n("bug-string-char-index");if(!d)var x=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],S=function(t,e){return w[e]+365*(t-1970)+x((t-1969+(e=+(e>1)))/4)-x((t-1901+e)/100)+x((t-1601+e)/400)};(o={}.hasOwnProperty)||(o=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?o=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,o=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,o.call(this,t)});var k={"boolean":1,number:1,string:1,undefined:1},C=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!k[n]};if(r=function(t,e){var n,i,s,c=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)o.call(i,s)&&c++;return n=i=null,c?r=2==c?function(t,e){var n,i={},r=a.call(t)==h;for(n in t)r&&"prototype"==n||o.call(i,n)||!(i[n]=1)||!o.call(t,n)||e(n)}:function(t,e){var n,i,r=a.call(t)==h;for(n in t)r&&"prototype"==n||!o.call(t,n)||(i="constructor"===n)||e(n);(i||o.call(t,n="constructor"))&&e(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],r=function(t,e){var n,r,s=a.call(t)==h,c=!s&&"function"!=typeof t.constructor&&C(t,"hasOwnProperty")?t.hasOwnProperty:o;for(n in t)s&&"prototype"==n||!c.call(t,n)||e(n);for(r=i.length;n=i[--r];c.call(t,n)&&e(n));}),r(t,e)},!n("json-stringify")){var _={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E="000000",$=function(t,e){return(E+(e||0)).slice(-t)},T="\\u00",P=function(t){var e,n='"',i=0,o=t.length,r=o>10&&b;for(r&&(e=t.split(""));o>i;i++){var s=t.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=_[s];break;default:if(32>s){n+=T+$(2,s.toString(16));break}n+=r?e[i]:b?t.charAt(i):t[i]}}return n+'"'},A=function(t,e,n,i,c,l,p){var d,u,h,b,w,k,C,_,E,T,z,M,B,D,I,R;try{d=e[t]}catch(O){}if("object"==typeof d&&d)if(u=a.call(d),u!=f||o.call(d,"toJSON"))"function"==typeof d.toJSON&&(u!=g&&u!=m&&u!=v||o.call(d,"toJSON"))&&(d=d.toJSON(t));else if(d>-1/0&&1/0>d){if(S){for(w=x(d/864e5),h=x(w/365.2425)+1970-1;S(h+1,0)<=w;h++);for(b=x((w-S(h,0))/30.42);S(h,b+1)<=w;b++);w=1+w-S(h,b),k=(d%864e5+864e5)%864e5,C=x(k/36e5)%24,_=x(k/6e4)%60,E=x(k/1e3)%60,T=k%1e3}else h=d.getUTCFullYear(),b=d.getUTCMonth(),w=d.getUTCDate(),C=d.getUTCHours(),_=d.getUTCMinutes(),E=d.getUTCSeconds(),T=d.getUTCMilliseconds();d=(0>=h||h>=1e4?(0>h?"-":"+")+$(6,0>h?-h:h):$(4,h))+"-"+$(2,b+1)+"-"+$(2,w)+"T"+$(2,C)+":"+$(2,_)+":"+$(2,E)+"."+$(3,T)+"Z"}else d=null;if(n&&(d=n.call(e,t,d)),null===d)return"null";if(u=a.call(d),u==y)return""+d;if(u==g)return d>-1/0&&1/0>d?""+d:"null";if(u==m)return P(""+d);if("object"==typeof d){for(D=p.length;D--;)if(p[D]===d)throw TypeError();if(p.push(d),z=[],I=l,l+=c,u==v){for(B=0,D=d.length;D>B;B++)M=A(B,d,n,i,c,l,p),z.push(M===s?"null":M);R=z.length?c?"[\n"+l+z.join(",\n"+l)+"\n"+I+"]":"["+z.join(",")+"]":"[]"}else r(i||d,function(t){var e=A(t,d,n,i,c,l,p);e!==s&&z.push(P(t)+":"+(c?" ":"")+e)}),R=z.length?c?"{\n"+l+z.join(",\n"+l)+"\n"+I+"}":"{"+z.join(",")+"}":"{}";return p.pop(),R}};p.stringify=function(t,e,n){var i,o,r,s;if("function"==typeof e||"object"==typeof e&&e)if((s=a.call(e))==h)o=e;else if(s==v){r={};for(var c,l=0,p=e.length;p>l;c=e[l++],s=a.call(c),(s==m||s==g)&&(r[c]=1));}if(n)if((s=a.call(n))==g){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else s==m&&(i=n.length<=10?n:n.slice(0,10));return A("",(c={},c[""]=t,c),o,r,i,"",[])}}if(!n("json-parse")){var z,M,B=String.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw z=M=null,SyntaxError()},R=function(){for(var t,e,n,i,o,r=M,s=r.length;s>z;)switch(o=r.charCodeAt(z)){case 9:case 10:case 13:case 32:z++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?r.charAt(z):r[z],z++,t;case 34:for(t="@",z++;s>z;)if(o=r.charCodeAt(z),32>o)I();else if(92==o)switch(o=r.charCodeAt(++z)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=D[o],z++;break;case 117:for(e=++z,n=z+4;n>z;z++)o=r.charCodeAt(z),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||I();t+=B("0x"+r.slice(e,z));break;default:I()}else{if(34==o)break;for(o=r.charCodeAt(z),e=z;o>=32&&92!=o&&34!=o;)o=r.charCodeAt(++z);t+=r.slice(e,z)}if(34==r.charCodeAt(z))return z++,t;I();default:if(e=z,45==o&&(i=!0,o=r.charCodeAt(++z)),o>=48&&57>=o){for(48==o&&(o=r.charCodeAt(z+1),o>=48&&57>=o)&&I(),i=!1;s>z&&(o=r.charCodeAt(z),o>=48&&57>=o);z++);if(46==r.charCodeAt(z)){for(n=++z;s>n&&(o=r.charCodeAt(n),o>=48&&57>=o);n++);n==z&&I(),z=n}if(o=r.charCodeAt(z),101==o||69==o){for(o=r.charCodeAt(++z),(43==o||45==o)&&z++,n=z;s>n&&(o=r.charCodeAt(n),o>=48&&57>=o);n++);n==z&&I(),z=n}return+r.slice(e,z)}if(i&&I(),"true"==r.slice(z,z+4))return z+=4,!0;if("false"==r.slice(z,z+5))return z+=5,!1;if("null"==r.slice(z,z+4))return z+=4,null;I()}return"$"},O=function(t){var e,n;if("$"==t&&I(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=R(),"]"!=t;n||(n=!0))n&&(","==t?(t=R(),"]"==t&&I()):I()),","==t&&I(),e.push(O(t));return e}if("{"==t){for(e={};t=R(),"}"!=t;n||(n=!0))n&&(","==t?(t=R(),"}"==t&&I()):I()),(","==t||"string"!=typeof t||"@"!=(b?t.charAt(0):t[0])||":"!=R())&&I(),e[t.slice(1)]=O(R());return e}I()}return t},N=function(t,e,n){var i=j(t,e,n);i===s?delete t[e]:t[e]=i},j=function(t,e,n){var i,o=t[e];if("object"==typeof o&&o)if(a.call(o)==v)for(i=o.length;i--;)N(o,i,n);else r(o,function(t){N(o,t,n)});return n.call(t,e,o)};p.parse=function(t,e){var n,i;return z=0,M=""+t,n=O(R()),"$"!=R()&&I(),z=M=null,e&&a.call(e)==h?j((i={},i[""]=n,i),"",e):n}}}c&&t(function(){return p})}(this)},{}],50:[function(t,e,n){function i(t,e){var n=[];e=e||0;for(var i=e||0;i<t.length;i++)n[i-e]=t[i];return n}e.exports=i},{}]},{},[1])(1)}),$(function(){function t(){$.ajax({url:a+"/readGlobalNotifications",data:{_token:CSRF_TOKEN},dataType:"json",type:"POST",success:function(t){console.log("readGlobalNotification"),console.log(t)},error:function(t){console.log(t.responseText)}})}function e(){$.ajax({url:s+"/readFriendRequests",data:{user_id:userId,_token:CSRF_TOKEN},dataType:"json",type:"POST",success:function(t){console.log("readFriendRequests"),console.log(t)},error:function(t){console.log(t.responseText)}})}function n(t){console.log("minimizeChat"),t.find(".inactivebox").css("display","block"),t.find(".activebox").css("display","none"),t.parent().removeClass("chatMaximized").addClass("chatMinimized")}function i(t){room_id=$(t).data("id"),room_name=$(t).data("name"),peopleTalking=$(t).find(".peopleTalking").data("total"),$(t).find(".notif").remove(),$(t).parent().removeClass("chatMinimized").addClass("chatMaximized"),room_id&&($.ajax({url:BASE_URL+"/chatroom/userChatRead",type:"POST",data:{user_id:userId,room_id:room_id,_token:CSRF_TOKEN},dataType:"json",success:function(t){console.log("User is looged in")},error:function(t){console.log("User is not logged in")}}),$(t).find(".inactivebox").hide(),$(t).find(".activebox .message").length>0?$(t).find(".activebox").show():($(t).find(".activebox").show(),body=$(t).find(".body"),$.ajax({url:BASE_URL+"/room/getRoomMessages",data:{room_id:room_id,_token:CSRF_TOKEN},type:"POST",dataType:"json",success:function(t){$.each(t,function(){$(body).append($("<div>").addClass("message").append($("<div>").addClass("avatar").append($('<a href="javascript:;">').append($('<img src="'+(this.user.user_detail.profile_picture?BASE_URL+"/"+this.user.user_detail.profile_picture:defaultProfilePic)+'">')))).append($("<p>").addClass("bubble yellow").text(this.message)))}),console.log("watermelon22222223333"),r()},error:function(t){console.log(t.responseText)}})))}function o(t){$(t).parent(".chatbox-container").remove()}function r(){$("#chatBoxPanel").find(".body").scrollTop($("#chatBoxPanel").find(".body")[0].scrollHeight)}BASE_URL=$('meta[name="baseURL"]').attr("content"),CSRF_TOKEN=$('meta[name="csrf-token"]').attr("content"),socket=io.connect(BASE_URL+":8891"),defaultProfilePic=BASE_URL+"/images/default_profile_picture.png",userImage=$("#userId").data("image"),userId=$("#userId").val(),userName=$("#userId").data("name"),isAdmin=1==$("#userId").data("isAdmin")?!0:!1,sessionId=$("#sessionId").val();var s=BASE_URL+"/profile",a=BASE_URL+"/notification",c=BASE_URL+"/message",l=BASE_URL+"/friends";$.fn.preload=function(){this.each(function(){$("<img/>")[0].src=this})},$(["http://susanwins.com/uploads/64878_click-header.png"]).preload(),socket.on("user_logged_in",function(){location.reload()}),socket.on("user_logged_out",function(){location.reload()}),socket.on("connect",function(){userId?socket.emit("login",{user_id:userId,profile_picture:userImage,name:userName,session_id:sessionId},!1,isAdmin):socket.emit("look_at_room",sessionId)}),socket.on("user_banned",function(t,e){console.log("user_banned"),console.log($("#chatbox-"+e)),console.log($("#chatbox-"+e).length),t.user_id==userId&&$("#chatbox-"+e).length&&($("#chatbox-"+e).find("textarea").initBan(t.time),$("#"))}),socket.on("lift_ban",function(t,e){console.log("lift_ban"),console.log(t),console.log(e),t==userId&&$("#chatbox-"+e).length&&(clearInterval($("#chatbox-"+e).find("textarea").data("time_interval")),$("#chatbox-"+e).find("textarea").attr("placeholder","Type Message").removeAttr("disabled"))}),$.fn.initBan=function(t){function e(t){var e=Math.floor(t/6e4),n=(t%6e4/1e3).toFixed(0);return e+":"+(10>n?"0":"")+n}function n(t){remaining_time=$(t).data("remaining_time"),remaining_time-=1e3,remaining_time>0?($(t).data("remaining_time",remaining_time),$(t).removeData("remaining_time").data("remaining_time",remaining_time),$(t).attr("placeholder","Banned for "+e(remaining_time)).attr("disabled","disabled")):(clearInterval($(t).data("time_interval")),$(t).attr("placeholder","Type Message").removeAttr("disabled"))}return this.each(function(){input=this,$(input).attr("disabled","disabled"),$(input).removeData("remaining_time").data("remaining_time",t),$(input).attr("placeholder","Banned for "+e(t)),$(input).data("time_interval")&&clearInterval($(input).data("time_interval")),$(input).data("time_interval",setInterval(n,1e3,input))})},socket.on("post_recommendGame_notification",function(t){console.log("post_recommendGame_notification"),span=$("<span>").addClass("notifcount"),notifcount=1,$("#unreadUserNotification").find(".notifcount").length&&(notifcount=parseInt($("#unreadUserNotification").find(".notifcount").text())+1),$("#unreadUserNotification").html("").append($(span).text(notifcount)),$("#myNotifications").prepend($("<li>").append($('<a href="'+BASE_URL+"/"+t.game.slug+'">').addClass("unread").append($("<img>").attr("src",t.user.user_detail.profile_picture?BASE_URL+"/"+t.user.user_detail.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text(t.user.user_detail.firstname+" "+t.user.user_detail.lastname+" recommended you to play. ")).append($("<div>").addClass("actionList").append($("<span>").text("Click to Play"))))))}),socket.on("post_accepted_friend_notification",function(t){span=$("<span>").addClass("notifcount"),notifcount=1,$("#unreadUserNotification").find(".notifcount").length&&(notifcount=parseInt($("#unreadUserNotification").find(".notifcount").text())+1),$("#unreadUserNotification").html("").append($(span).text(notifcount)),$("#myNotifications").prepend($("<li>").append($('<a href="javascript:;">').addClass("unread").append($("<img>").attr("src",t.profile_picture?BASE_URL+"/"+t.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text("You and "+t.name+" are now friends!")).append($("<div>").addClass("actionList").data("user",t.user_id).append($("<button>").text("Message").addClass("subModalToggle pmFriend").attr("data-target","#pmBox"))))))}),socket.on("post_global_notification",function(t){console.log("post_global_notification"),console.log(t),t&&(span=$("<span>").addClass("notifcount"),notifcount=1,$("#unreadGlobalNotification").find(".notifcount").length&&(notifcount=parseInt($("#unreadGlobalNotification").find(".notifcount").text())+1),$("#unreadGlobalNotification").html("").append($(span).text(notifcount)),1==t.type?$("#myGlobalNotifications").prepend($("<li>").append($('<a href="'+BASE_URL+"/"+t.game.slug+'">').addClass("unread").append($("<p>").append($("<span>").text("New Game has Added!"))))):2==t.type?$("#myGlobalNotifications").prepend($("<li>").append($('<a href="'+BASE_URL+"/clubhouse/chatroom/"+t.room.name+'">').addClass("unread").append($("<p>").append($("<span>").text("New Chatroom Created!"))))):3==t.type?$("#myGlobalNotifications").prepend($("<li>").append($('<a href="'+BASE_URL+"/clubhouse/chatroom/"+t.room.name+'">').addClass("unread").append($("<p>").append($("<span>").text(t.moderator.user_detail.firstname+" "+t.moderator.user_detail.lastname+" is now in "+t.room.name))))):4==t.type&&$("#myGlobalNotifications").prepend($("<li>").append($('<a href="//'+t.custom_notification.link+' ">').addClass("unread").append($("<p>").append($("<span>").text(t.custom_notification.description))))))}),socket.on("post_custom_notification",function(t){$.each(t,function(){data=this,span=$("<span>").addClass("notifcount"),notifcount=1,$("#unreadGlobalNotification").find(".notifcount").length&&(notifcount=parseInt($("#unreadGlobalNotification").find(".notifcount").text())+1),$("#unreadGlobalNotification").html("").append($(span).text(notifcount)),$("#myGlobalNotifications").prepend($("<li>").append($('<a href="//'+data.custom_notification.link+' ">').addClass("unread").append($("<p>").append($("<span>").text(data.custom_notification.description)))))})}),socket.on("post_addFriend_request",function(t,e){console.log("post_addFriend_request"),console.log(e),requestHtml=$("<li>").attr("id","friend-request-"+e.user_id).append($('<a href="javascript:;">').addClass("unread").append($("<img>").attr("src",e.profile_picture?BASE_URL+"/"+e.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text(e.name)).append($("<div>").addClass("actionList").append($("<button>").text("Accept").addClass("acceptFriend").data("id",t).data("user",e.user_id)).append($("<button>").text("Decline").addClass("declineFriend").data("id",t))))),$("#friend-request-"+e.user_id).length?$("#friend-request-"+e.user_id).replaceWith(requestHtml):(notifcount=$("#notificationMenu").find(".notifcount"),notifcount.length?(notifs=parseInt($(notifcount).text()),$(notifcount).text(notifs+1)):$("#notificationMenu").prepend($("<span>").addClass("notifcount").text(1)),$("#myNotifications").prepend(requestHtml))}),socket.on("post_private_message",function(t){console.log("you got a private message!"),console.log(t),$("#pmBox").data("current")==t.from.user_id&&$("#pmBox").is(":visible")?(console.log("real time add"),$("#pmMessageContent").append($("<li>").append($("<img>").attr("src",t.from.profile_picture?BASE_URL+"/"+t.from.profile_picture:defaultProfilePic)).append($("<span>").text(t.message))),$("#pmMessageContent").animate({scrollTop:$("#pmMessageContent")[0].scrollHeight},2e3)):($("#inbox-user-"+t.from.user_id).length?($("#inbox-user-"+t.from.user_id).find("a").addClass("unread").find(".message").text(t.message),$("#myMessages").prepend($("#inbox-user-"+t.from.user_id))):$("#myMessages").prepend($("<li>").attr("data-user",t.from.user_id).attr("id","inbox-user-"+t.from.user_id).append($('<a href="javascript:;">').addClass("subModalToggle pmFriend").attr("data-target","#pmBox").addClass("unread").append($("<img>").attr("src",t.from.profile_picture?BASE_URL+"/"+t.from.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text(t.from.name).append($("<span>").addClass("timestamp").text("3:36pm"))).append($("<span>").addClass("message").text(t.message))))),$("#unreadMessageNotification").html("").append($("<span>").addClass("notifcount").text($("#myMessages li a.unread").length)))}),socket.on("open_current_room",function(t){t&&0==$("#chatbox-"+t.id).length&&$("#chatBoxPanel").append($("<div>").addClass("chatbox-container").addClass("chatMinimized").attr("id","chatbox-"+t.id).append($("<div>").addClass("chatbox").data("id",t.id).data("name",t.name).append($("<div>").addClass("inactivebox").append($("<b>").text(t.name)).append($("<span>").addClass("peopleTalking").text(t.people.length+" people talking").data("total",t.people.length))).append($("<div>").addClass("activebox").css("display","none").append($("<div>").addClass("head").append($("<h2>").append($("<i>").addClass("fa fa-minus").addClass("minimizeChat")).append($('<a href="javascript:;">').text(t.name)).append($("<span>").text(t.people.length+" people are talking now")))).append($("<div>").addClass("body")).append($("<div>").addClass("joinBox").append($('<a href="'+BASE_URL+'/login">').addClass("join").text("Join Chat"))))))}),socket.on("rooms_opened",function(t){console.log(t),$.each(t,function(){room=this,console.log($("#chatBoxPanel")),$.ajax({url:BASE_URL+"/chatroom/getUnreadCount",type:"POST",data:{room_id:room.id,user_id:userId,_token:CSRF_TOKEN},dataType:"json",success:function(t){textarea=$("<textarea>").addClass("common").attr("placeholder","Type Message").css("width","100%"),$("#chatBoxPanel").append($("<div>").addClass("chatbox-container").addClass("chatMinimized").attr("id","chatbox-"+room.id).append($("<div>").addClass("chatbox").data("id",room.id).data("name",room.name).append($("<div>").addClass("inactivebox").append($("<b>").text(room.name)).append($("<span>").addClass("peopleTalking").text(room.people.length+" people talking").data("total",room.people.length))).append($("<div>").addClass("activebox").css("display","none").append($("<div>").addClass("head").append($("<h2>").append($("<i>").addClass("fa fa-minus").addClass("minimizeChat")).append($('<a href="javascript:;">').text(room.name)).append($("<span>").text(room.people.length+" people are talking now")))).append($("<div>").addClass("body")).append(textarea)))),room.banned&&$(textarea).initBan(room.banned),t>0&&$("#chatbox-"+room.id).find(".inactivebox").append($("<div>").addClass("notif").text(t))},error:function(t){console.log(t.responseText)}})})}),socket.on("display_people",function(t,e){$("#chatbox-"+e).find(".peopleTalking").text(t.length+" people are talking now"),$("#chatbox-"+e).find(".activebox head span").text(t.length+" people are talking now")}),socket.on("room_opened",function(t,e){socket.emit("observer_room",t.room.id),console.log("room_opened"),console.log(t),0==$("#chatbox-"+t.room.id).length&&$.ajax({url:BASE_URL+"/chatroom/getUnreadCount",type:"POST",data:{room_id:t.room.id,user_id:userId,_token:CSRF_TOKEN},dataType:"json",success:function(n){textarea=$("<textarea>").addClass("common").attr("placeholder","Type Message").css("width","100%"),$("#chatBoxPanel").append($("<div>").addClass("chatbox-container").addClass("chatMinimized").attr("id","chatbox-"+t.room.id).append($("<div>").addClass("chatbox").data("id",t.room.id).data("name",t.room.name).append($("<div>").addClass("inactivebox").append($("<b>").text(t.room.name)).append($("<span>").addClass("peopleTalking").text(t.people.length+" people talking").data("total",t.people.length))).append($("<div>").addClass("activebox").css("display","none").append($("<div>").addClass("head").append($("<h2>").append($("<i>").addClass("fa fa-minus").addClass("minimizeChat")).append($('<a href="javascript:;">').text(t.room.name)).append($("<span>").text(t.people.length+" people are talking now")))).append($("<div>").addClass("body")).append(textarea)))),e&&$(textarea).initBan(e),n>0&&$("#chatbox-"+t.room.id).find(".inactivebox").append($("<div>").addClass("notif").text(n))},error:function(t){console.log(t.responseText)}})}),socket.on("post_chatroom_message",function(t){console.log("a new message from room"),console.log(t),chatbox=$("#chatbox-"+t.room_id),$(chatbox).length&&(body=$(chatbox).find(".body"),$(body).append($("<div>").addClass("message").append($("<div>").addClass("avatar").append($('<a href="javascript:;">').append($('<img src="'+(t.user.profile_picture?BASE_URL+"/"+t.user.profile_picture:defaultProfilePic)+'">')))).append($("<p>").addClass("bubble yellow").text(t.message))),$(chatbox).hasClass("chatMinimized")&&userId!=t.user.user_id&&($(chatbox).find(".inactivebox").find(".notif").length?(lastCount=parseInt($(chatbox).find(".inactivebox").find(".notif").text()),$(chatbox).find(".inactivebox").find(".notif").text(lastCount+1)):$(chatbox).find(".inactivebox").append($("<div>").addClass("notif").text(1))))}),socket.on("force_minimizeChat",function(t){chatbox=$("#chatbox-"+t).find(".chatbox"),chatbox.length&&n(chatbox)}),socket.on("force_closeChat",function(t){chatbox=$("#chatbox-"+t).find(".chatbox"),chatbox.length&&(o(chatbox),socket.emit("leaveChat",t))}),socket.on("force_maximizeChat",function(t){chatbox=$("#chatbox-"+t).find(".chatbox"),chatbox.length&&i(chatbox)}),$("#globalNotifMenu").on("click",function(){$("#unreadGlobalNotification").html("")}),$("#globalNotifMenu").one("click",function(e){button=this,$("#myGlobalNotifications").html("").append($('<li style="border:none;">').addClass("loading").append('<div class="typing-indicator"><span></span><span></span><span></span></div><p> Loading... </p>')),$.ajax({url:a+"/getGlobalNotifications",data:{_token:CSRF_TOKEN},dataType:"json",type:"POST",success:function(e){console.log("getGlobalNotifications"),console.log(e),$(button).bind("click",t),t(),$("#myGlobalNotifications").html(""),$.each(e,function(){notification=this,li=$("<li>"),1==notification.type?$("#myGlobalNotifications").append($(li).append($('<a href="'+BASE_URL+"/"+notification.game.slug+'">').append($("<p>").append($("<span>").text("New Game has Added!"))))):2==notification.type?$("#myGlobalNotifications").append($(li).append($('<a href="'+BASE_URL+"/clubhouse/chatroom/"+notification.room.name+'">').append($("<p>").append($("<span>").text("New Chatroom Created!"))))):3==notification.type?$("#myGlobalNotifications").append($(li).append($('<a href="'+BASE_URL+"/clubhouse/chatroom/"+notification.room.name+'">').append($("<p>").append($("<span>").text(notification.moderator.user_detail.firstname+" "+notification.moderator.user_detail.lastname+" is now in "+notification.room.name))))):4==notification.type&&$("#myGlobalNotifications").append($(li).append($('<a href="//'+notification.custom_notification.link+' ">').append($("<p>").append($("<span>").text(notification.custom_notification.description))))),notification.globalnotification_read||$(li).find("a").addClass("unread")})},error:function(t){console.log(t.responseText)}})}),$(document).on("click",".pmFriend",function(){$(".pmBox").css("display","block"),$(".messageNotifBox ").hide()}),$("#notificationMenu").on("click",function(){$("#notificationMenu").find(".notifcount").remove()}),$("#notificationMenu").one("click",function(){theButton=this,$("#myNotifications").html("").append($('<li style="border:none;">').addClass("loading").append('<div class="typing-indicator"><span></span><span></span><span></span></div><p> Loading... </p>')),$.ajax({url:s+"/getFriendRequests",data:{user_id:userId,_token:CSRF_TOKEN},dataType:"json",type:"POST",success:function(t){console.log("getFriendRequests"),console.log(t),t&&(e(),$(theButton).bind("ckick",e)),$("#myNotifications").html(""),$.each(t,function(){li=$("<li>"),request=this,0==request.type?(button=$('<a href="javascript:;">').append($("<img>").attr("src",request.user.user_detail.profile_picture?BASE_URL+"/"+request.user.user_detail.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text(request.user.user_detail.firstname+" "+request.user.user_detail.lastname)).append($("<div>").addClass("actionList").append($("<button>").text("Accept").addClass("acceptFriend").data("id",request.id).data("user",request.user_id)).append($("<button>").text("Decline").addClass("declineFriend").data("id",request.id)))),$(li).attr("id","friend-request-"+request.user_id).append(button)):1==request.type?$(li).append($('<a href="javascript:;">').append($("<img>").attr("src",request.user.profile_picture?BASE_URL+"/"+request.user.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text("You and "+request.user.user_detail.firstname+" "+request.user.user_detail.lastname+" are now friends!")).append($("<div>").addClass("actionList").data("user",request.user.user_detail.user_id).append($("<button>").text("Message").addClass("subModalToggle pmFriend").attr("data-target","#pmBox"))))):2==request.type&&$(li).append($('<a href="'+BASE_URL+"/"+request.game.slug+'">').append($("<img>").attr("src",request.user.user_detail.profile_picture?BASE_URL+"/"+request.user.user_detail.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text(request.user.user_detail.firstname+" "+request.user.user_detail.lastname+" recommended you to play. ")).append($("<div>").addClass("actionList").append($("<span>").text("Click to Play"))))),0==request.read&&$(li).find("a").addClass("unread"),$("#myNotifications").append(li)})},error:function(t){console.log(t.responseText)}})}),$("#sendPrivateMessage").on("submit",function(t){t.preventDefault(),theUser=$(this).data("user"),message=$("#privateMessageTextarea").val(),$("#privateMessageTextarea").val(""),
theUser&&message&&($("#pmMessageContent").append($("<li>").addClass("alt").append($("<span>").addClass("alt").text(message))),$("#pmMessageContent").animate({scrollTop:$("#pmMessageContent")[0].scrollHeight},200),$.ajax({url:c+"/sendPrivateMessage",data:{from:userId,to:theUser,message:message,_token:CSRF_TOKEN},type:"POST",dataType:"json",success:function(t){socket.emit("send_private_message",{to:theUser,message:message})},error:function(t){console.log(t.responseText)}}))}),$(".chatCommon").each(function(){var t=$(this),e=$(document.createElement("div")),n=null;t.addClass("txtstuff"),e.addClass("hiddendiv common"),$("body").append(e),t.on("keyup",function(i){13==i.keyCode?$(t).parent("form").submit():(n=$(this).val(),n=n.replace(/\n/g,"<br>"),e.html(n+'<br class="lbr">'),$(this).css("height",e.height()))})}),$(document).on("click",".pmFriend",function(){modal=$("#pmBox"),$(this).removeClass("unread"),modal.hasClass("loading")||($(modal).addClass("loading"),theUser=$(this).parent().data("user"),$("#pmBox").attr("data-current",theUser),$("#sendPrivateMessage").data("user",theUser),$(modal).find(".divContainer").hide(),loading=$("<div>").addClass("loadContainer").append('<div class="typing-indicator"><span></span><span></span><span></span></div><p> Loading... </p>'),$(modal).append(loading),$("#pmMessageContent").html(""),$.ajax({url:c+"/getPrivateMessages",data:{user_id:userId,other_person:theUser,_token:CSRF_TOKEN},dataType:"json",type:"POST",success:function(t){$("#unreadMessage").text("("+t.unread+")"),$("#readMessage").text("("+t.read+")"),$(modal).find(".divContainer").show(),$(loading).remove(),modal.removeClass("loading"),$("#pmName").text(t.other_person.user_detail.firstname+" "+t.other_person.user_detail.lastname),t.conversation&&t.conversation.length>0&&$.each(t.conversation,function(){li=$("<li>"),span=$("<span>").text(this.message),this.from!=userId?$(li).append($("<img>").attr("src",t.other_person.user_detail.profile_picture?BASE_URL+"/"+t.other_person.user_detail.profile_picture:defaultProfilePic)):($(li).addClass("alt"),$(span).addClass("alt")),$("#pmMessageContent").append(li.append(span))})},error:function(t){console.log(t.responseText)}}))}),$("#myNotifications").on("click",".acceptFriend",function(){data_id=$(this).data("id"),user=$(this).data("user"),$(this).parents("li").find(".actionList").html("").append($("<span>").text("Request accepted! ").css("font-size","12px").data("user",user).append($("<button>").text("Message").addClass("subModalToggle pmFriend").attr("data-target","#pmBox"))),$.ajax({url:l+"/acceptFriendRequest",data:{_token:CSRF_TOKEN,id:data_id},type:"POST",dataType:"json",success:function(t){t&&socket.emit("friend_request_accepted",{other_person:user})},error:function(t){console.log(t.responseText)}})}),$("#myNotifications").on("click",".declineFriend",function(){data_id=$(this).data("id"),$(this).parents("li").remove(),$.ajax({url:l+"/cancelFriendRequest",data:{_token:CSRF_TOKEN,id:data_id},type:"POST",dataType:"json",success:function(t){console.log(t)},error:function(t){console.log(t.responseText)}})}),$("#messagesMenu").one("click",function(){$("#myMessages").html("").append($('<li style="border:none;">').addClass("loading").append('<div class="typing-indicator"><span></span><span></span><span></span></div><p> Loading... </p>')),$.ajax({url:c+"/getInbox",data:{user_id:userId,_token:CSRF_TOKEN},dataType:"json",type:"POST",success:function(t){sortDates=t.sort(function(t,e){return new Date(t.created_at)<new Date(e.created_at)}),unread_messages=[],read_messages=[],$.each(sortDates,function(){0==this.read?unread_messages.push(this):read_messages.push(this)}),inbox=unread_messages.concat(read_messages),$("#myMessages").html(""),$.each(inbox,function(){msg=this,button=$('<a href="javascript:;">').addClass("subModalToggle pmFriend").attr("data-target","#pmBox").append($("<img>").attr("src",msg.from_user.user_detail.profile_picture?BASE_URL+"/"+msg.from_user.user_detail.profile_picture:defaultProfilePic)).append($("<p>").append($("<span>").addClass("name").text(msg.from_user.user_detail.firstname+" "+msg.from_user.user_detail.lastname).append($("<span>").addClass("timestamp").text("3:36pm"))).append($("<span>").addClass("message").text(msg.message))),0==msg.read&&$(button).addClass("unread"),$("#myMessages").append($("<li>").attr("id","inbox-user-"+msg.from_user.user_detail.user_id).attr("data-user",msg.from_user.user_detail.user_id).append(button))})},error:function(t){console.log(t.responseText)}})}),$("#myMessages").on("click","li a",function(){$("#unreadMessageNotification").html("")}),$("#messagesMenu").on("click",function(){$("#unreadMessageNotification").html("")}),$("#userMenu").click(function(){$(".profileBox").toggle()}),$("#messagesMenu").click(function(){$(".messageNotifBox").toggle(),$(".globalNotifBox ").hide(),$(".notificationBox ").hide()}),$("#globalNotifMenu").click(function(){$(".globalNotifBox").toggle(),$(".messageNotifBox ").hide(),$(".notificationBox ").hide()}),$("#notificationMenu").click(function(){$(".notificationBox").toggle(),$(".globalNotifBox ").hide(),$(".messageNotifBox ").hide()}),$(".messageBox ul").slimScroll({height:"366px",start:"bottom"}),$("#chatBoxPanel").on("click",".minimizeChat",function(t){t.stopPropagation(),chatbox=$(this).parents(".chatbox"),room_id=$(chatbox).data("id"),n(chatbox),socket.emit("chat_minimized",room_id)}),$("#chatBoxPanel").on("click",".closeChat",function(t){t.stopPropagation(),chatbox=$(this).parents(".chatbox"),room_id=$(chatbox).data("id"),o(chatbox),socket.emit("stop_observing",room_id)}),$("#chatBoxPanel").on("keydown","textarea",function(t){13==t.keyCode&&(message=$(this).val(),chatbox=$(this).parents(".chatbox"),room_id=$(chatbox).data("id"),message&&userId&&room_id&&($(this).val(""),body=$(this).parents(".activebox").find(".body"),console.log(body),$(body).append($("<div>").addClass("message").append($("<div>").addClass("avatar").append($('<a href="javascript:;">').append($('<img src="'+(userImage?BASE_URL+"/"+userImage:defaultProfilePic)+'">')))).append($("<p>").addClass("bubble yellow").text(message))),$.ajax({url:BASE_URL+"/chatroom/postMessage",type:"POST",data:{user_id:userId,message:message,room_id:room_id,_token:CSRF_TOKEN},dataType:"json",success:function(t){socket.emit("send_chatroom_message",room_id,message)},error:function(t){console.log(t.responseText)}}),r()))}),$("#chatBoxPanel").on("keyup","textarea",function(t){13==t.keyCode&&$(this).val("")}),$("#chatBoxPanel").on("click",".chatbox",function(t){room_id=$(this).data("id"),i(this),room_id&&socket.emit("chat_maximized",room_id)}),$(".categ-button").click(function(){$(".categ-entries").fadeToggle()}),$("body").on("click",function(t){!$(".categ-entries").is(":visible")||$(t.target).hasClass("categ-entries")||$(t.target).hasClass("categ-button")||$(".categ-entries").fadeOut()})}),$(function(){function t(t){$.ajax({type:"post",url:BASE_URL+"/home/ajax_get_posts",data:{_token:CSRF_TOKEN,searchField:t},success:function(t){var e=JSON.parse(t),n="";$.each(e,function(t,e){n+='<a class="entry" tabindex="1" href="'+BASE_URL+"/"+e.slug+'" ><img src="'+BASE_URL+"/uploads/"+e.icon_feature_image+'" width="100px" height="100px"> <p>'+e.title+'</p> <div class="searchratingouter"> <span class="searchrating" style="width:'+Math.floor(e.total_rating)+'%;"> &nbsp; </span> </div> </a>'}),""==n.trim()?$("#search_result").html("<h6>NO RESULTS FOUND</h6>"):$("#search_result").html(n)}})}$("#search").on("input",function(e){var n=$("#search").val(),i=$("#search").data("timeout");$("#mainhead").css({position:"relative","z-index":"999"}),$(".overlay").css({"background-color":"rgba(0, 0, 0, 0.41)",position:"fixed",width:"100%",height:"100%","z-index":"98"}),$("#search_result").html('<div id="floatingCirclesG"  style="display:block;"><div class="f_circleG" id="frotateG_01"></div><div class="f_circleG" id="frotateG_02"></div><div class="f_circleG" id="frotateG_03"></div><div class="f_circleG" id="frotateG_04"></div><div class="f_circleG" id="frotateG_05"></div><div class="f_circleG" id="frotateG_06"></div><div class="f_circleG" id="frotateG_07"></div><div class="f_circleG" id="frotateG_08"></div></div>'),$("#search_result").css({background:"#ffffff"}),i&&(clearTimeout(i),$("#search").removeData("timeout")),0==n||""==n||null==n?$("#search_result").html("<h6>NO RESULTS FOUND</h6>"):13==e.which?(e.preventDefault(),t(n)):$("#search").data("timeout",setTimeout(t,500,n))}),$("#search").on("keyup",function(t){40==t.which&&$("#search_result").find(".entry:first-child").focus().trigger("keydown")}),$("#search_result").on("focusin",".entry",function(){$(this).css({outline:0,background:"#E8E8E8"})}).on("focusout",".entry",function(){$(this).css({background:"#fff"})}),$("#search_result").on("keydown",".entry:focus",function(t){return 40==t.which||38==t.which?(40==t.which?$(this).next().focus():0==$(this).index()?$("#search").focus():$(this).prev().focus(),!1):void 0}),$(".overlay").click(function(){$(this).css({background:"none","z-index":"0",cursor:"auto"}),$("#search_result").html("")})});